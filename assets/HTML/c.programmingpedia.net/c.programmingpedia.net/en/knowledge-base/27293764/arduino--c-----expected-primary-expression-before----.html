<!DOCTYPE html>



<html lang="en" itemscope="" itemtype="http://schema.org/QAPage">

<!-- Mirrored from c.programmingpedia.net/en/knowledge-base/27293764/arduino--c-----expected-primary-expression-before---- by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 16 Jan 2021 10:12:11 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- webmaster tools -->
        <meta name="google-site-verification" content="" />
        <!-- Open Graph Tags -->
        <meta name="title" property="og:title" content="[SOLVED] Arduino (C) - &quot;expected primary-expression before &#39;)&#39; | C Language Knowledge Base">
        <meta name="description" property="og:description" content="[SOLVED] Arduino (C) - &quot;expected primary-expression before &#39;)&#39; | C Language Knowledge Base">
        <title>[SOLVED] Arduino (C) - &quot;expected primary-expression before &#39;)&#39; | C Language Knowledge Base</title>

    

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    
        <style>
            body{margin:0;}img{max-width:100%;}ul{margin-top:0;margin-bottom:1rem;}.list-inline{padding-left:0;list-style:none;}.list-inline-item{display:inline-block;}.list-inline-item:not(:last-child){margin-right:.5rem;}.site-header{display:flex;height:60px;}.site-main,.site-footer{display:flex;}.col-aside-left-and-sidebar .col-aside-left,.col-sidebar,.col-content,.col-aside-right{position:relative;}.site-header .col-aside-left-and-sidebar-inner,.site-header .col-aside-right-inner,.site-header .col-content-inner{height:60px;}.site-header .col-aside-left-and-sidebar-inner,.site-header .col-aside-right-inner{position:fixed;z-index:1;}.site-main .col-aside-left-inner,.site-main .col-sidebar-inner,.site-main .col-aside-right-inner{height:calc(100vh - 60px);position:fixed;}.site-main .col-sidebar-overflow{height:calc(100vh - 60px);position:relative;overflow-x:hidden;overflow-y:auto;}.col-aside-left-and-sidebar,.col-aside-left-and-sidebar-inner{width:calc(50% - 450px);}.col-aside-left,.col-aside-left-inner{width:calc(50% - 750px);}.col-sidebar,.col-sidebar-inner{width:300px;}.col-content,.col-content-inner{width:1200px;}.col-aside-right,.col-aside-right-inner{width:calc(50% - 750px);}@media(max-width:1869px){.col-aside-left-and-sidebar,.col-aside-left-and-sidebar-inner{width:calc(50% - 500px);}.col-aside-left,.col-aside-left-inner{display:none;}.col-sidebar,.col-sidebar-inner{width:calc(50% - 500px);}.col-content,.col-content-inner{width:1000px;}.col-aside-right,.col-aside-right-inner{width:calc(50% - 500px);}}@media(max-width:1549px){.col-aside-left-and-sidebar,.col-aside-left-and-sidebar-inner{width:calc(50% - 400px);}.col-sidebar,.col-sidebar-inner{width:calc(50% - 400px);}.col-content,.col-content-inner{width:800px;}.col-aside-right,.col-aside-right-inner{width:calc(50% - 400px);}}@media(max-width:1229px){.col-aside-left-and-sidebar,.col-aside-left-and-sidebar-inner{width:300px;}.col-sidebar,.col-sidebar-inner{width:300px;}.col-content{width:calc(100% - 300px);}.col-content-inner{width:100%;}.col-aside-right,.col-aside-right-inner{display:none;}}@media(max-width:1000px){.col-aside-left-and-sidebar,.col-aside-left-and-sidebar-inner{width:250px;}.col-sidebar,.col-sidebar-inner{width:250px;}.col-content{width:calc(100% - 250px);}}@media(max-width:767px){.col-aside-left-and-sidebar,.col-aside-left-and-sidebar-inner{display:none;}.col-sidebar,.col-sidebar-inner{display:none;}.col-content{width:100%;}.site-main{display:initial;}.site-main .col-sidebar,.site-main .col-sidebar-inner{display:initial;width:100%;position:relative;}.site-main .col-sidebar-overflow{height:calc(30vh);}}.site-header .col-aside-left-and-sidebar-inner,.site-header .col-aside-right-inner,.site-header .col-content-inner{box-shadow:rgba(116,129,141,.1) 0 3px 8px 0;border-bottom:1px solid #d4dadf;}.site-header .col-aside-left-and-sidebar-inner,.site-header .col-aside-right-inner,.site-main .col-aside-left-inner,.site-main .col-sidebar-inner,.site-main .col-aside-right-inner{background:#f5f7f9 none repeat scroll 0% 0%;}.site-header .col-aside-left-and-sidebar-inner,.site-main .col-sidebar-inner{border-right:1px solid #e6ecf1;}.site-header .col-aside-right,.site-main .col-aside-right{border-left:1px solid #e6ecf1;}.brand{font-size:24px;font-weight:bold;height:100%;text-align:right;margin-right:20px;margin-top:10px;}
        </style>
    <link rel="stylesheet" type="text/css" href="../../../styles/master.min0e4d.css?v=todo">
    <!-- to fix/move? -->
    

    
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-55584370-32"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-131737769-1');
    </script>


</head>
<body>


<div class="site-header">
    <div class="col-aside-left-and-sidebar">
        <div class="col-aside-left-and-sidebar-inner">
            <div class="brand">
                <i class="fas fa-yin-yang" style="color: #0056b3;"></i>&nbsp;
                C Language Pedia
            </div>
        </div>
    </div>
    <div class="col-content">
        <div class="col-content-inner">
<div>
    <ul class="list-inline">
        <li class="list-inline-item"><a href="../../../index.html">Tutorial</a></li>
            <li class="list-inline-item"><a href="../../knowledge-base.html">Knowledge-Base</a></li>

            <li class="list-inline-item"><a href="../../awesome-learning/book.html">Awesome</a></li>
    </ul>
</div>

<style>
    .site-header .col-content .list-inline {
        padding-left: 20px;
        padding-top: 15px;

        font-weight: bold;
    }
</style>
        </div>
    </div>
    <div class="col-aside-right">
        <div class="col-aside-right-inner">
            
        </div>
    </div>
</div>
<div class="site-main">
    <div class="col-aside-left">
        <div class="col-aside-left-inner">
            
        </div>
    </div>
    <div class="col-sidebar">
        <div class="col-sidebar-inner">

            <div class="col-sidebar-overflow">
                
            </div>

        </div>
    </div>
    <div class="col-content">
        <div class="col-content-inner">
            


<div id="knowledge-base" class="kb-details">
    <div class="row">
        <div class="col-lg-1 col-xl-1">
        </div>
        <div class="col-lg-9 col-xl-9" itemprop="mainEntity" itemscope itemtype="http://schema.org/Question">
            <div class="container-h1">
                <h1 itemprop="name" id="arduino-c-expected-primary-expression-before-">Arduino (C) - "expected primary-expression before ')'</h1>
                <div class="tag-list">
                        <span class="tag-item"><a href="../tag/arduino.html">arduino</a></span>
                        <span class="tag-item"><a href="../tag/c.html">c</a></span>
                        <span class="tag-item"><a href="../tag/while-loop.html">while-loop</a></span>
                </div>
            </div>
            <br>
            <div class="search-results-container">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="block-question">
                            <div class="container-question">
                                <i class="fab fa-stack-overflow" style="font-size: 32px; position: absolute; left: -15px; top: -15px;"></i>
                                <h3 id="question">Question</h3>
                                <div itemprop="text">
                                    <p>I've got a function that works in my test document, but when transfered to my finished project I get the error "expected ´)' before ';' token".</p>

<p>I've included first the program in its functional test state, as well as the code of the non-functional code, I know the second one is still messy but has been functional so far, and I'm hoping to figure out why the while function causes errors. I am also sorry that the code is not in full english but rather danish, I hope this does not make it completely impossible.</p>

<p>Error messages from compiler:</p>

<p>Skarmmedudtest_V_1_1.ino: In function 'float tagTemp_NTC() ':
Skarmmedudtest_V_1_1:142: error: expected: ´)' before ';' token
Skarmmedudtest_V_1_1:142: error: expected: primary-expression before ')' token
Skarmmedudtest_V_1_1:142: error: expected: ´;' before ')' token
Skarmmedudtest_V_1_1:806: error: expected: ´}' at end of input</p>

<p>Functional code:</p>

<pre><code>    #define STR 100
float ar[STR];
float x;
int i;
int sum;
float mindstLuft;
float temp;

//DENNNE VIRKER OG MÅLER MED EN NØJAGTIGHED PÅ 0.5 GRADER
void TagTemp(){ 
float hej = analogRead(A0);
temp = (float)0.10988796957380947*(float)hej-(float)31.34142857142854334;
 }


float tagTemp_NTC()
{
  int i=0;
  mindstLuft=1000; //sikre at den første måling -altid- er anderledes//

  while (i&lt;STR)
  {
  float hej = analogRead(A0);
  temp = (float)0.10988796957380947*(float)hej-(float)31.34142857142854334;
  delay(1);
  if(temp&lt;mindstLuft)
  {mindstLuft=temp;}
  return mindstLuft; 
  i++;
  }
}

void setup()
{
  Serial.begin(9600);
}


void loop()
{ 
  tagTemp_NTC();
  Serial.print("Smallest measurement is;");
  Serial.println(mindstLuft);  



//}
delay(1000);
}
</code></pre>

<p>Disfunctional code;</p>

<pre><code> #include &lt;Tone.h&gt;
#include &lt;i2cmaster.h&gt;
#include &lt;SPI.h&gt;
#include &lt;Adafruit_GFX.h&gt;
#include &lt;Adafruit_PCD8544.h&gt;
#include &lt;Time.h&gt;
#include &lt;Thermistor.h&gt;
#include "pitches.h"
Thermistor temp(0);

// Software SPI (slower updates, more flexible pin options):
// pin 7 - Serial clock out (SCLK)
// pin 6 - Serial data out (DIN)
// pin 5 - Data/Command select (D/C)
// pin 4 - LCD chip select (CS)
// pin 3 - LCD reset (RST)
Adafruit_PCD8544 display = Adafruit_PCD8544(7, 6, 5, 4, 3);

// Hardware SPI (faster, but must use certain hardware pins):
// SCK is LCD serial clock (SCLK) - this is pin 13 on Arduino Uno
// MOSI is LCD DIN - this is pin 11 on an Arduino Uno
// pin 5 - Data/Command select (D/C)
// pin 4 - LCD chip select (CS)
// pin 3 - LCD reset (RST)
// Adafruit_PCD8544 display = Adafruit_PCD8544(5, 4, 3);
// Note with hardware SPI MISO and SS pins aren't used but will still be read
// and written to during SPI transfer.  Be careful sharing these pins!

//////////////////GLOBALE DATAVÆRDIER/////////////////////
#define STR 100;
#define reed 52//pin connected to read switch
unsigned long start, finished, elapsed, midt;
int reedVal = 0;
int counter = 1;
int array[1];
int countLyd = 0;
float tid;
float distance;
int buttonState=1;
int count =0;
float mindstLuft;
//////////////////GLOBALE DATAVÆRDIER/////////////////////









/////////////////////////////////////     UR      ///////////////////////////////////////

void ur()
{

  display.setTextSize(1);
  display.setCursor(42,0);
  display.print(hour());
  taltilur(minute());
  taltilur(second());
  display.println();
}

void taltilur(int digits)
{
  display.print(":");
  if(digits &lt; 10)
    display.print('0');
  display.print(digits);
}

int sensorValueNTC = analogRead(A0);
int sensorValueIFR = analogRead(A1);
int sensorValueFart = analogRead(A2);
int sensorValueDistance = analogRead(A3);

////////////////////////////////////////////////////////////////////////////////////////


int temperatureIR;

void vejTemp()
{
  //////////////////////////////////KODE TIL IR SENSOR///////////////////////////////////
  int dev = 0x5A&lt;&lt;1;
  int data_low = 0;
  int data_high = 0;
  int pec = 0;

  i2c_start_wait(dev+I2C_WRITE);
  i2c_write(0x07);

  // read
  i2c_rep_start(dev+I2C_READ);
  data_low = i2c_readAck(); //Read 1 byte and then send ack
  data_high = i2c_readAck(); //Read 1 byte and then send ack
  pec = i2c_readNak();
  i2c_stop();

  //This converts high and low bytes together and processes temperature, MSB is a error bit and is ignored for temps
  double tempFactor = 0.02; // 0.02 degrees per LSB (measurement resolution of the MLX90614)
  double tempData = 0x0000; // zero out the data
  int frac; // data past the decimal point

  // This masks off the error bit of the high byte, then moves it left 8 bits and adds the low byte.
  tempData = (double)(((data_high &amp; 0x007F) &lt;&lt; 8) + data_low);
  tempData = (tempData * tempFactor)-0.01;

  float celcius = tempData - 273.15;
  float fahrenheit = (celcius*1.8) + 32;

  display.setTextSize(1.5);
  display.setTextColor(BLACK);
  display.setCursor(0,25);
  display.print("Vej temp:");
  display.setTextSize(1.5);
  display.setTextColor(BLACK);
  display.setCursor(60,25);
  display.print(celcius,1); // - temp fra infrarød
  //display.print("10*");
}

////////////////////////////////////////////////////////////////////////////////////////











///////////////////////////////   NTC TEMP    ///////////////////////////////////////////////
float tagTemp_NTC()
{
  int i=0;
  mindstLuft=1000; //sikre at den første måling -altid- er anderledes//

  while (i&lt;STR)
    {
    float hej = analogRead(A0);
    temp = (float)0.10988796957380947*(float)hej-(float)31.34142857142854334;
    delay(1);
    if(temp&lt;mindstLuft)
    {mindstLuft=temp;}
    return mindstLuft; 
    i++;
    }
}

void luftTemp()
{

  display.setTextSize(1.5);
  display.setTextColor(BLACK);
  display.setCursor(0,35);
  display.print("Luft temp:");
  display.setTextSize(1.5);
  display.setTextColor(BLACK);
  display.setCursor(60,35);
  display.print(mindst_luft, 1);

  //display.print("10*");
}
////////////////////////////////////////////////////////////////////////////////////////











//////////////////////////////////////     DISTANCE    //////////////////////////////////////////////////
void distance2()
{


  float radius = 0.35; //meter. Dette skal brugeren selv skrive ind fra skaermen.
  float hjulomkreds = 3.14 * (radius*2);


  reedVal = digitalRead(reed);//get val of A0



  if(reedVal == 1 &amp;&amp; counter == 1)
  {
    counter = 0;

    start = millis();

  }
  if(reedVal == 0 &amp;&amp; counter == 0)
  {

    counter = 2;
  }


  if(reedVal == 1 &amp;&amp; counter == 2)
  {
    finished = millis();
    elapsed = (finished - start);
    array[1] = elapsed;
    tid = array[1];


    counter = 0;
    start = millis();
    distance = distance + hjulomkreds;
  }
  delay(200);


  float hastighed =   ((hjulomkreds/tid)*3600);


  display.setTextSize(1);
  display.setTextColor(BLACK);
  display.setCursor(1,0);
  display.print(distance); // - distance fra sensor
  //display.print("10km");
}
////////////////////////////////////////////////////////////////////////////////////////









////////////////////////////////////   FART   ////////////////////////////////////////////////////
void fart()
{

  float radius = 0.35; //meter. Dette skal brugeren selv skrive ind fra skaermen.
  float hjulomkreds = 2 * 3.14 * radius*radius;


  reedVal = digitalRead(reed);//get val of A0



  if(reedVal == 1 &amp;&amp; counter == 1)
  {
    counter = 0;

    start = millis();

  }
  if(reedVal == 0 &amp;&amp; counter == 0)
  {

    counter = 2;
  }


  if(reedVal == 1 &amp;&amp; counter == 2)
  {
    finished = millis();
    elapsed = (finished - start);
    array[1] = elapsed;
    tid = array[1];


    counter = 0;
    start = millis();
    distance = distance + 0.35;
  }
  delay(200);

  //float hastighed = ((hjulomkreds * 3600)/tid); //  Km/t
  float hastighed =   ((hjulomkreds/tid)*3600);  


  display.setTextSize(1);
  display.setTextColor(BLACK);
  display.setCursor(0,10);
  display.print("Fart:");
  display.setTextSize(1);
  display.setTextColor(BLACK);
  display.setCursor(30,10);
  display.print(hastighed, 1);
  display.setCursor(60,10);
  display.print("km/t");

}
////////////////////////////////////////////////////////////////////////////////////////











/////////////////////////////////////    LYS DIODER     ///////////////////////////////////////////////////
void lysG()
{
  digitalWrite(22, HIGH);
  digitalWrite(24, LOW);
  digitalWrite(26, LOW);
}

void lysR()
{
  digitalWrite(22, LOW);
  digitalWrite(26, HIGH);
  digitalWrite(24, LOW);
}

void lysY()
{
  digitalWrite(22, LOW);
  digitalWrite(26, LOW);
  digitalWrite(24, HIGH);
}

void slukLysGreen()
{
  digitalWrite(22, LOW);
}

void slukLysYellow()
{
  digitalWrite(24, LOW);
}

void slukLysRed()
{
  digitalWrite(26, LOW);
}
////////////////////////////////////////////////////////////////////////////////////////












///////////FUNKTIONER TIL 1 PER SKÆRM//////////////
void ur1()
{
  display.clearDisplay();
  display.setTextSize(2);
  display.setCursor(0,20);
  display.print(hour());
  taltilur(minute());
  taltilur(second());
  display.println();
  display.display();
}


void vejTemp1()
{
  display.clearDisplay();
  //////////////////////////////////KODE TIL IR SENSOR///////////////////////////////////
  int dev = 0x5A&lt;&lt;1;
  int data_low = 0;
  int data_high = 0;
  int pec = 0;

  i2c_start_wait(dev+I2C_WRITE);
  i2c_write(0x07);

  // read
  i2c_rep_start(dev+I2C_READ);
  data_low = i2c_readAck(); //Read 1 byte and then send ack
  data_high = i2c_readAck(); //Read 1 byte and then send ack
  pec = i2c_readNak();
  i2c_stop();

  //This converts high and low bytes together and processes temperature, MSB is a error bit and is ignored for temps
  double tempFactor = 0.02; // 0.02 degrees per LSB (measurement resolution of the MLX90614)
  double tempData = 0x0000; // zero out the data
  int frac; // data past the decimal point

  // This masks off the error bit of the high byte, then moves it left 8 bits and adds the low byte.
  tempData = (double)(((data_high &amp; 0x007F) &lt;&lt; 8) + data_low);
  tempData = (tempData * tempFactor)-0.01;

  float celcius = tempData - 273.15;
  float fahrenheit = (celcius*1.8) + 32;

  display.setTextSize(1);
  display.setTextColor(BLACK);
  display.setCursor(15,5);
  display.print("Vej temp:");
  display.setTextSize(2);
  display.setTextColor(BLACK);
  display.setCursor(15,25);
  display.print(celcius, 1);// - temp fra infrarød
  //display.print("10*");
  display.setTextSize(1);
  display.setCursor(63,23);
  display.print("o");
  display.display();
}

void luftTemp1()
{
  display.clearDisplay();
  float tempNTC = temp.getTemp();
  display.setTextSize(1);
  display.setTextColor(BLACK);
  display.setCursor(15,5);
  display.print("Luft temp:");
  display.setTextSize(2);
  display.setTextColor(BLACK);
  display.setCursor(15,25);
  display.print(tempNTC, 1);
  display.setTextSize(1);
  display.setCursor(63,23);
  display.print("o");
  display.display();

}

void distance1()
{
  display.clearDisplay();

  float radius = 0.35; //meter. Dette skal brugeren selv skrive ind fra skaermen.
  float hjulomkreds =  3.14 * (radius*2);


  reedVal = digitalRead(reed);//get val of A0



  if(reedVal == 1 &amp;&amp; counter == 1)
  {
    counter = 0;

    start = millis();

  }
  if(reedVal == 0 &amp;&amp; counter == 0)
  {

    counter = 2;
  }


  if(reedVal == 1 &amp;&amp; counter == 2)
  {
    finished = millis();
    elapsed = (finished - start);
    array[1] = elapsed;
    tid = array[1];

    counter = 0;
    start = millis();
    distance = distance + hjulomkreds;
  }
  delay(200);

  //float hastighed = ((hjulomkreds * 3600)/tid); //  Km/t
  float hastighed =   ((hjulomkreds/tid)*3600);




  display.setTextSize(1);
  display.setTextColor(BLACK);
  display.setCursor(15,5);
  display.print("Distance:");
  display.setTextSize(2);
  display.setTextColor(BLACK);
  display.setCursor(20,25);
  display.print(distance/1000); // - distance fra sensor
  display.display();
  //display.print("10 km");
}


void fart1()
{
  display.clearDisplay();

  float radius = 0.35; //meter. Dette skal brugeren selv skrive ind fra skaermen.
  float hjulomkreds = 2 * 3.14 * radius*radius;


  reedVal = digitalRead(reed);//get val of A0



  if(reedVal == 1 &amp;&amp; counter == 1)
  {
    counter = 0;

    start = millis();

  }
  if(reedVal == 0 &amp;&amp; counter == 0)
  {

    counter = 2;
  }


  if(reedVal == 1 &amp;&amp; counter == 2)
  {
    finished = millis();
    elapsed = (finished - start);
    array[1] = elapsed;
    tid = array[1];

    counter = 0;
    start = millis();
    distance = distance + 0.35;
  }
  delay(200);


  float hastighed =   ((hjulomkreds/tid)*3600);


  display.setTextSize(1);
  display.setTextColor(BLACK);
  display.setCursor(15,5);
  display.print("Hastighed:");
  display.setTextSize(2);
  display.setTextColor(BLACK);
  display.setCursor(1,25);
  display.print(hastighed, 1); // - farten fra sensor
  display.setTextSize(1);
  display.setTextColor(BLACK);
  display.setCursor(53,32);
  display.print("km/t");
  display.display();
  //display.print("25 km/t");
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////










//////////////////////////////////    START SKÆRM    //////////////////////////////////////////////////////
void skaermSetup1()
{
  ur();
  luftTemp();
  vejTemp();
  fart();
  distance2();
  display.display();
  display.clearDisplay(); 
}  
////////////////////////////////////////////////////////////////////////////////////////










////////////////////////////////////     SETUP AF SKÆRM     ////////////////////////////////////////////////////
void setup()  
{
  i2c_init(); //Initialise the i2c bus
  PORTC = (1 &lt;&lt; PORTC4) | (1 &lt;&lt; PORTC5);//enable pullups
  pinMode(25, OUTPUT);
  pinMode(12, INPUT_PULLUP);
  pinMode(22, OUTPUT);
  pinMode(24, OUTPUT);
  pinMode(26, OUTPUT);
  Serial.begin(9600);

  display.begin();
  display.setContrast(50);
  display.setRotation(2);
  display.display(); // show splashscreen
  delay(2000);
  display.clearDisplay();   // clears the screen and buffer
}
////////////////////////////////////////////////////////////////////////////////////////











////////////////////////////////////BUZZER//////////////////////////////////
void ylyd()
{
  tone(8, NOTE_C4, 300);
  delay(500);
  tone(8, NOTE_C4, 300);
  delay(1000);
  countLyd=0;
}


void rlyd()
{
  tone(8, NOTE_C4, 300);
  delay(500);
  tone(8, NOTE_C4, 300);
  delay(500);
  tone(8, NOTE_C4, 300);
  delay(500);
  tone(8, NOTE_C4, 300);
  delay(500);
  tone(8, NOTE_C4, 300);
  delay(1000);
  countLyd=1;
}
//////////////////////////////////////////////////////////////////////////////











void loop() 
{
  float tempNTC = temp.getTemp();

  int dev = 0x5A&lt;&lt;1;
  int data_low = 0;
  int data_high = 0;
  int pec = 0;

  i2c_start_wait(dev+I2C_WRITE);
  i2c_write(0x07);

  // read
  i2c_rep_start(dev+I2C_READ);
  data_low = i2c_readAck(); //Read 1 byte and then send ack
  data_high = i2c_readAck(); //Read 1 byte and then send ack
  pec = i2c_readNak();
  i2c_stop();

  //This converts high and low bytes together and processes temperature, MSB is a error bit and is ignored for temps
  double tempFactor = 0.02; // 0.02 degrees per LSB (measurement resolution of the MLX90614)
  double tempData = 0x0000; // zero out the data
  int frac; // data past the decimal point

  // This masks off the error bit of the high byte, then moves it left 8 bits and adds the low byte.
  tempData = (double)(((data_high &amp; 0x007F) &lt;&lt; 8) + data_low);
  tempData = (tempData * tempFactor)-0.01;

  float celcius = tempData - 273.15;
  float fahrenheit = (celcius*1.8) + 32;










///////////////////////////////////////     DET MED KNAPPER     ///////////////////////////////////////////////

  int knapVal = digitalRead(12);

  if (knapVal == LOW &amp; buttonState ==1)
  {
    count = count+1;
    buttonState = 2; 
  }

  if (knapVal == HIGH &amp; buttonState ==2)
  {
    buttonState =1; 
  }

  if(count==0)
  {
    skaermSetup1();

  }
  if(count==1){
    display.clearDisplay();
    ur1();
    display.display();
  }

  if(count==2){
    display.clearDisplay();
    vejTemp1();
    display.display();
  }

  if(count==3){
    display.clearDisplay();
    luftTemp1();
    display.display();
  }

  if(count==4){
    display.clearDisplay();
    fart1();
    display.display();
  }

  if(count==5){
    display.clearDisplay();
    distance1();
    display.display();
  }

  if(count==6)
  {
    count=0; 
  }
////////////////////////////////////////////////////////////////////////////////////////











//////////////////////////////////    DET MED LYS    //////////////////////////////////////////////////////
  if(tempNTC &lt; 26 || celcius &lt; 26) // ændres til 0 og 0
  {
    lysR();

    if (countLyd==0)
    {
      rlyd();
    }
  }


  else if(tempNTC &gt; 30 &amp;&amp; celcius &lt; 30)
  {
    lysY();
    if (countLyd==1 || countLyd==2)
    {
      ylyd();
    }
  }

  else if(tempNTC &lt; 30 &amp;&amp; celcius &gt; 30)
  {
    lysY();
    if (countLyd==1 || countLyd==2)
    {
      ylyd();
    }
  }

  else if(tempNTC &lt; 30 &amp;&amp; celcius &lt; 30 &amp;&amp; celcius &gt; 26 &amp;&amp; tempNTC &gt; 26) // ændres til 2 og 2 og 0 og 0
  {
    lysY();
    if ((countLyd==1 || countLyd==2))
    { 
      ylyd();
    }
  }

  else if(tempNTC &gt; 30 &amp;&amp; celcius &gt; 30) // ændres til 2 og 2
  {
    lysG();
    countLyd=2;
  }
  ////////////////////////////////////////////////////////////////////////////////////////

}// LOOP END
</code></pre>

                                </div>

                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="profile-container">
                                        <div class="profile-details-container d-flex align-items-center">
                                            <div class="asker-name" itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="https://stackoverflow.com/users/4324298/jonas-nielsen" target="_blank"><span itemprop="name">jonas nielsen</span></a></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div style="display: none">
                                    <div itemprop="answerCount">1</div>
                                    <div itemprop="upvoteCount">0</div>
                                    <div itemprop="dateCreated">12/4/2014 12:25:06 PM</div>
                                </div>
                            </div>
                        </div>
                        
                        <br/>
                    </div>
                    <div class="col-sm-6">
                            <div id="answer-0" class="block-question answer" itemprop="acceptedAnswer" itemscope itemtype="http://schema.org/Answer">
                                <div class="container-question">
                                    <h3 id="accepted-answer">Accepted Answer</h3>
                                    <div itemprop="text">
                                        <p>I'm pretty sure your problem is on this line, but it's hard to know because you didn't say which line the compiler gives you error on:</p>

<pre><code>while (i&lt;STR)
</code></pre>

<p>This is because you do:</p>

<pre><code>#define STR 100;
</code></pre>

<p>The pre-processor will change that to:</p>

<pre><code>while (i&lt;100;)
</code></pre>

<p>which is not a valid expression in C.</p>

                                    </div>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div class="profile-container">
                                            <div class="profile-details-container d-flex align-items-center">
                                                    <div class="asker-name" itemprop="author" itemscope itemtype="https://schema.org/Person">
                                                        <a href="https://stackoverflow.com/users/939410/art" target="_blank"><span itemprop="name">Art</span></a>
                                                    </div>
                                            </div>
                                        </div>
                                    </div>
                                        <div style="display: none">
                                            <div itemprop="url">https://c.programmingpedia.net/en/knowledge-base/27293764/arduino--c-----expected-primary-expression-before----#answer-0</div>
                                            <div itemprop="upvoteCount">3</div>
                                            <div itemprop="dateCreated">12/4/2014 12:27:42 PM</div>
                                        </div>
                                </div>
                            </div>
                            <br/>
                            <div id="answer-1" class="block-question second-answer" >
                                <div class="container-question">
                                    <h3 id="popular-answer">Popular Answer</h3>
                                    <div >
                                        <p>Maybe i'm missing something [as you've not put complete code], but you have defined something called</p>

<pre><code>float mindst_luft;
</code></pre>

<p>and you're using </p>

<pre><code>mindstLuft=1000;
</code></pre>

<p>In the <em>Functional</em> code you've shown, <code>mindstLuft</code> is not defined anywhere.</p>

<p>Also, your <code>while()</code> loop is useless, because, on you're calling <code>return</code> unconditionally.</p>

<hr>

<p>EDIT:</p>

<p>Ok then, what is exactly <code>A0</code> ? and <code>A1</code>, <code>A2</code>...? if you want to represent some <code>hex</code> value, you've got to use like <code>0xA0</code>.</p>

<hr>

<p>EDIT:</p>

<p>Ok, by avoiding the confusion of <em>functional</em> and <em>disfunctional</em> code, the problem is with the MACRO definition. Considering the MACRO processing as a <em>word-by-word</em> replacement,</p>

<pre><code>#define STR 100;
               ^
               |
</code></pre>

<p>will make your while loop look like</p>

<pre><code>while(i &lt; 100;)
</code></pre>

<p>which is a wrong syntax.</p>

<p>get rid of the <code>;</code> in <code>#define</code></p>

                                    </div>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div class="profile-container">
                                            <div class="profile-details-container d-flex align-items-center">
                                                    <div class="asker-name"><a href="https://stackoverflow.com/users/3137699/natasha-dutta" target="_blank">Natasha Dutta</a></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br/>
                    </div>
                </div>
                <div class="text-center mt-5 mb-5">
                    <a href="https://stackoverflow.com/questions/27293764" class="btn-only d-inline-block stack-overflow-identity" target="_blank"><i class="fab fa-stack-overflow"></i> View more on Stack Overflow</a>
                </div>
            </div>
            
            <div class="attribution">
                <div>Licensed under: <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank">CC-BY-SA</a> with <a href="https://stackoverflow.blog/2009/06/25/attribution-required/" target="_blank">attribution</a></div>
                <div>Not affiliated with: <a href="https://stackoverflow.com/questions/tagged/dapper" target="_blank">Stack Overflow</a></div>
                
            </div>
        </div>

    </div>
</div>
            
        </div>
    </div>
    <div class="col-aside-right">
        <div class="col-aside-right-inner">
        </div>
    </div>
</div>
<div class="site-footer">
</div>
    
    <a href="#" id="scroll-to-top" class="back-to-top" style="display: inline;">Icon</a>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="http://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

<script>
    $(function() {
        $('a').each(function() {
            var a = new RegExp('/' + window.location.host + '/');
            if (!a.test(this.href)) {
                $(this).attr("target", "_blank");
            }
        });

        $("table").addClass("table table-bordered table-hover table-responsive-sm table-striped");
        $("thead").addClass("thead-dark");

        $('aside a').each(function() {
            if ($(this).attr('href') == '/{{page.permalink}}' ||
                $(this).attr('href') == '{{ site.github.url }}/{{page.permalink}}') {
                $(this).addClass('font-weight-bold');
            }
        });
    });
</script>


</body>

<!-- Mirrored from c.programmingpedia.net/en/knowledge-base/27293764/arduino--c-----expected-primary-expression-before---- by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 16 Jan 2021 10:12:11 GMT -->
</html>
