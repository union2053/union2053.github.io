<!DOCTYPE html>



<html lang="en" itemscope="" itemtype="http://schema.org/QAPage">

<!-- Mirrored from c.programmingpedia.net/en/knowledge-base/8385322/difference-between-static-memory-allocation-and-dynamic-memory-allocation by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 16 Jan 2021 10:13:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- webmaster tools -->
        <meta name="google-site-verification" content="" />
        <!-- Open Graph Tags -->
        <meta name="title" property="og:title" content="[SOLVED] Difference between static memory allocation and dynamic memory allocation | C Language Knowledge Base">
        <meta name="description" property="og:description" content="[SOLVED] Difference between static memory allocation and dynamic memory allocation | C Language Knowledge Base">
        <title>[SOLVED] Difference between static memory allocation and dynamic memory allocation | C Language Knowledge Base</title>

    

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    
        <style>
            body{margin:0;}img{max-width:100%;}ul{margin-top:0;margin-bottom:1rem;}.list-inline{padding-left:0;list-style:none;}.list-inline-item{display:inline-block;}.list-inline-item:not(:last-child){margin-right:.5rem;}.site-header{display:flex;height:60px;}.site-main,.site-footer{display:flex;}.col-aside-left-and-sidebar .col-aside-left,.col-sidebar,.col-content,.col-aside-right{position:relative;}.site-header .col-aside-left-and-sidebar-inner,.site-header .col-aside-right-inner,.site-header .col-content-inner{height:60px;}.site-header .col-aside-left-and-sidebar-inner,.site-header .col-aside-right-inner{position:fixed;z-index:1;}.site-main .col-aside-left-inner,.site-main .col-sidebar-inner,.site-main .col-aside-right-inner{height:calc(100vh - 60px);position:fixed;}.site-main .col-sidebar-overflow{height:calc(100vh - 60px);position:relative;overflow-x:hidden;overflow-y:auto;}.col-aside-left-and-sidebar,.col-aside-left-and-sidebar-inner{width:calc(50% - 450px);}.col-aside-left,.col-aside-left-inner{width:calc(50% - 750px);}.col-sidebar,.col-sidebar-inner{width:300px;}.col-content,.col-content-inner{width:1200px;}.col-aside-right,.col-aside-right-inner{width:calc(50% - 750px);}@media(max-width:1869px){.col-aside-left-and-sidebar,.col-aside-left-and-sidebar-inner{width:calc(50% - 500px);}.col-aside-left,.col-aside-left-inner{display:none;}.col-sidebar,.col-sidebar-inner{width:calc(50% - 500px);}.col-content,.col-content-inner{width:1000px;}.col-aside-right,.col-aside-right-inner{width:calc(50% - 500px);}}@media(max-width:1549px){.col-aside-left-and-sidebar,.col-aside-left-and-sidebar-inner{width:calc(50% - 400px);}.col-sidebar,.col-sidebar-inner{width:calc(50% - 400px);}.col-content,.col-content-inner{width:800px;}.col-aside-right,.col-aside-right-inner{width:calc(50% - 400px);}}@media(max-width:1229px){.col-aside-left-and-sidebar,.col-aside-left-and-sidebar-inner{width:300px;}.col-sidebar,.col-sidebar-inner{width:300px;}.col-content{width:calc(100% - 300px);}.col-content-inner{width:100%;}.col-aside-right,.col-aside-right-inner{display:none;}}@media(max-width:1000px){.col-aside-left-and-sidebar,.col-aside-left-and-sidebar-inner{width:250px;}.col-sidebar,.col-sidebar-inner{width:250px;}.col-content{width:calc(100% - 250px);}}@media(max-width:767px){.col-aside-left-and-sidebar,.col-aside-left-and-sidebar-inner{display:none;}.col-sidebar,.col-sidebar-inner{display:none;}.col-content{width:100%;}.site-main{display:initial;}.site-main .col-sidebar,.site-main .col-sidebar-inner{display:initial;width:100%;position:relative;}.site-main .col-sidebar-overflow{height:calc(30vh);}}.site-header .col-aside-left-and-sidebar-inner,.site-header .col-aside-right-inner,.site-header .col-content-inner{box-shadow:rgba(116,129,141,.1) 0 3px 8px 0;border-bottom:1px solid #d4dadf;}.site-header .col-aside-left-and-sidebar-inner,.site-header .col-aside-right-inner,.site-main .col-aside-left-inner,.site-main .col-sidebar-inner,.site-main .col-aside-right-inner{background:#f5f7f9 none repeat scroll 0% 0%;}.site-header .col-aside-left-and-sidebar-inner,.site-main .col-sidebar-inner{border-right:1px solid #e6ecf1;}.site-header .col-aside-right,.site-main .col-aside-right{border-left:1px solid #e6ecf1;}.brand{font-size:24px;font-weight:bold;height:100%;text-align:right;margin-right:20px;margin-top:10px;}
        </style>
    <link rel="stylesheet" type="text/css" href="../../../styles/master.min0e4d.css?v=todo">
    <!-- to fix/move? -->
    

    
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-55584370-32"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-131737769-1');
    </script>


</head>
<body>


<div class="site-header">
    <div class="col-aside-left-and-sidebar">
        <div class="col-aside-left-and-sidebar-inner">
            <div class="brand">
                <i class="fas fa-yin-yang" style="color: #0056b3;"></i>&nbsp;
                C Language Pedia
            </div>
        </div>
    </div>
    <div class="col-content">
        <div class="col-content-inner">
<div>
    <ul class="list-inline">
        <li class="list-inline-item"><a href="../../../index.html">Tutorial</a></li>
            <li class="list-inline-item"><a href="../../knowledge-base.html">Knowledge-Base</a></li>

            <li class="list-inline-item"><a href="../../awesome-learning/book.html">Awesome</a></li>
    </ul>
</div>

<style>
    .site-header .col-content .list-inline {
        padding-left: 20px;
        padding-top: 15px;

        font-weight: bold;
    }
</style>
        </div>
    </div>
    <div class="col-aside-right">
        <div class="col-aside-right-inner">
            
        </div>
    </div>
</div>
<div class="site-main">
    <div class="col-aside-left">
        <div class="col-aside-left-inner">
            
        </div>
    </div>
    <div class="col-sidebar">
        <div class="col-sidebar-inner">

            <div class="col-sidebar-overflow">
                
            </div>

        </div>
    </div>
    <div class="col-content">
        <div class="col-content-inner">
            


<div id="knowledge-base" class="kb-details">
    <div class="row">
        <div class="col-lg-1 col-xl-1">
        </div>
        <div class="col-lg-9 col-xl-9" itemprop="mainEntity" itemscope itemtype="http://schema.org/Question">
            <div class="container-h1">
                <h1 itemprop="name" id="difference-between-static-memory-allocation-and-dynamic-memory-allocation">Difference between static memory allocation and dynamic memory allocation</h1>
                <div class="tag-list">
                        <span class="tag-item"><a href="../tag/c.html">c</a></span>
                        <span class="tag-item"><a href="../tag/dynamic-memory-allocation.html">dynamic-memory-allocation</a></span>
                        <span class="tag-item"><a href="../tag/memory.html">memory</a></span>
                        <span class="tag-item"><a href="../tag/memory-management.html">memory-management</a></span>
                        <span class="tag-item"><a href="../tag/static-memory-allocation.html">static-memory-allocation</a></span>
                </div>
            </div>
            <br>
            <div class="search-results-container">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="block-question">
                            <div class="container-question">
                                <i class="fab fa-stack-overflow" style="font-size: 32px; position: absolute; left: -15px; top: -15px;"></i>
                                <h3 id="question">Question</h3>
                                <div itemprop="text">
                                    <p>I would like to know what is the difference between static memory allocation and dynamic memory allocation?</p>

<p>Could you explain this with any example?</p>

                                </div>

                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="profile-container">
                                        <div class="profile-details-container d-flex align-items-center">
                                            <div class="asker-name" itemprop="author" itemscope itemtype="https://schema.org/Person"><a href="https://stackoverflow.com/users/430803/nishant-kumar" target="_blank"><span itemprop="name">Nishant Kumar</span></a></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div style="display: none">
                                    <div itemprop="answerCount">1</div>
                                    <div itemprop="upvoteCount">77</div>
                                    <div itemprop="dateCreated">4/27/2016 6:58:57 PM</div>
                                </div>
                            </div>
                        </div>
                        
                        <br/>
                    </div>
                    <div class="col-sm-6">
                            <div id="answer-0" class="block-question answer" itemprop="acceptedAnswer" itemscope itemtype="http://schema.org/Answer">
                                <div class="container-question">
                                    <h3 id="accepted-answer">Accepted Answer</h3>
                                    <div itemprop="text">
                                        <p>There are three types of allocation â€” static, automatic, and dynamic.</p>

<p><strong>Static Allocation</strong> means, that the memory for your variables is allocated when the program starts.  The size is fixed when the program is created.  It applies to global variables, file scope variables, and variables qualified with <code>static</code> defined inside functions.</p>

<p><strong>Automatic memory allocation</strong> occurs for (non-static) variables defined inside functions, and is usually stored on the <em>stack</em> (though the C standard doesn't mandate that a stack is used). You do not have to reserve extra memory using them, but on the other hand, have also limited control over the lifetime of this memory. E.g: automatic variables in a function are only there until the function finishes.</p>

<pre><code>void func() {
    int i; /* `i` only exists during `func` */
}
</code></pre>

<p><strong>Dynamic memory allocation</strong> is a bit different. You now control the exact size and the lifetime of these memory locations. If you don't free it, you'll run into memory leaks, which may cause your application to crash, since at some point of time, system cannot allocate more memory.</p>

<pre><code>int* func() {
    int* mem = malloc(1024);
    return mem;
}

int* mem = func(); /* still accessible */
</code></pre>

<p>In the upper example, the allocated memory is still valid and accessible, even though the function terminated. When you are done with the memory, you have to free it:</p>

<pre><code>free(mem);
</code></pre>

                                    </div>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div class="profile-container">
                                            <div class="profile-details-container d-flex align-items-center">
                                                    <div class="asker-name" itemprop="author" itemscope itemtype="https://schema.org/Person">
                                                        <a href="https://stackoverflow.com/users/746961/constantinius" target="_blank"><span itemprop="name">Constantinius</span></a>
                                                    </div>
                                            </div>
                                        </div>
                                    </div>
                                        <div style="display: none">
                                            <div itemprop="url">https://c.programmingpedia.net/en/knowledge-base/8385322/difference-between-static-memory-allocation-and-dynamic-memory-allocation#answer-0</div>
                                            <div itemprop="upvoteCount">75</div>
                                            <div itemprop="dateCreated">11/3/2017 9:49:05 AM</div>
                                        </div>
                                </div>
                            </div>
                            <br/>
                            <div id="answer-1" class="block-question second-answer" >
                                <div class="container-question">
                                    <h3 id="popular-answer">Popular Answer</h3>
                                    <div >
                                        <p>This is a standard interview question:</p>

<h2 id="dynamic-memory-allocation">Dynamic memory allocation</h2>

<p>Is memory allocated at runtime using <code>calloc()</code>, <code>malloc()</code> and friends. It is sometimes also referred to as 'heap' memory, although it has nothing to do with the heap data-structure <a href="http://www.quora.com/Why-is-dynamic-memory-allocation-called-heap-memory-allocation" rel="nofollow noreferrer" title="ref"><sup>ref</sup></a>.</p>

<pre><code>int * a = malloc(sizeof(int));
</code></pre>

<p>Heap memory is persistent until <code>free()</code> is called. In other words, you control the lifetime of the variable.</p>

<h2 id="automatic-memory-allocation">Automatic memory allocation</h2>

<p>This is what is commonly known as 'stack' memory, and is allocated when you enter a new scope (usually when a new function is pushed on the call stack). Once you move out of the scope, the values of automatic memory addresses are undefined, and it is an <a href="https://stackoverflow.com/a/6445794/140264">error to access them</a>. </p>

<pre><code>int a = 43;
</code></pre>

<p>Note that scope does not necessarily mean function. Scopes can nest within a function, and the variable will be in-scope only within the block in which it was declared. Note also that where this memory is allocated is not specified. (On a <em>sane</em> system it will be on the stack, or registers for optimisation)</p>

<h2 id="static-memory-allocation">Static memory allocation</h2>

<p>Is allocated at compile time<sup>*</sup>, and the lifetime of a variable in static memory is the <a href="http://en.wikipedia.org/wiki/Static_variable" rel="nofollow noreferrer">lifetime of the program</a>. </p>

<p>In C, static memory can be allocated using the <code>static</code> keyword. The scope is the compilation unit only. </p>

<p>Things get more interesting <a href="http://en.wikipedia.org/wiki/Extern_variable" rel="nofollow noreferrer">when the <code>extern</code> keyword is considered</a>. When an <code>extern</code> variable is <em>defined</em> the compiler allocates memory for it. When an <code>extern</code> variable is <em>declared</em>, the compiler requires that the variable be <em>defined</em> elsewhere. Failure to declare/define <code>extern</code> variables will cause linking problems, while failure to declare/define <code>static</code> variables will cause compilation problems.</p>

<p>in file scope, the static keyword is optional (outside of a function):</p>

<pre><code>int a = 32;
</code></pre>

<p>But not in function scope (inside of a function):</p>

<pre><code>static int a = 32;
</code></pre>

<p>Technically, <code>extern</code> and <code>static</code> are two separate classes of variables in C.</p>

<pre><code>extern int a; /* Declaration */
int a; /* Definition */
</code></pre>

<h2 id="-notes-on-static-memory-allocation"><sup>*</sup>Notes on static memory allocation</h2>

<p>It's somewhat confusing to say that static memory is allocated at compile time, especially if we start considering that the compilation machine and the host machine might not be the same or might not even be on the same architecture. </p>

<p>It may be better to think <em>that the allocation of static memory is handled by the compiler</em> rather than <em>allocated at compile time</em>. </p>

<p>For example the compiler may create a large <code>data</code> section in the compiled binary and when the program is loaded in memory, the address within the <code>data</code> segment of the program will be used as the location of the allocated memory. This has the marked disadvantage of making the compiled binary very large if uses a lot of static memory. It's possible to write a multi-gigabytes binary generated from less than half a dozen lines of code. Another option is for the compiler to inject initialisation code that will allocate memory in some other way before the program is executed. This code will vary according to the target platform and OS. In practice, modern compilers use heuristics to decide which of these options to use. You can try this out yourself by writing a small C program that allocates a large static array of either 10k, 1m, 10m, 100m, 1G or 10G items. For many compilers, the binary size will keep growing linearly with the size of the array, and past a certain point, it will shrink again as the compiler uses another allocation strategy.</p>

<h2 id="register-memory">Register Memory</h2>

<p>The last memory class are 'register' variables. As expected, register variables should be allocated on a CPU's register, but the decision is actually left to the compiler. You may not turn a register variable into a reference by using address-of. </p>

<pre><code>register int meaning = 42;
printf("%p\n",&amp;meaning); /* this is wrong and will fail at compile time. */
</code></pre>

<p>Most modern compilers are smarter than you at picking which variables should be put in registers :)</p>

<h2 id="references-">References:</h2>

<ul>
<li><a href="http://www.gnu.org/software/libc/manual/html_node/Memory-Allocation-and-C.html" rel="nofollow noreferrer">The libc manual</a></li>
<li>K&amp;R's <a href="http://cm.bell-labs.com/cm/cs/cbook/" rel="nofollow noreferrer">The C programming language</a>, Appendix A, Section 4.1, "Storage Class". (<a href="http://net.pku.edu.cn/~course/cs101/2008/resource/The_C_Programming_Language.pdf" rel="nofollow noreferrer">PDF</a>)</li>
<li><a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf" rel="nofollow noreferrer">C11 standard</a>, section 5.1.2, 6.2.2.3</li>
<li>Wikipedia also has good pages on <a href="http://en.wikipedia.org/wiki/Static_memory_allocation" rel="nofollow noreferrer">Static Memory allocation</a>, <a href="http://en.wikipedia.org/wiki/Dynamic_memory_allocation#Dynamic_memory_allocation" rel="nofollow noreferrer">Dynamic Memory Allocation</a> and <a href="http://en.wikipedia.org/wiki/Automatic_memory_allocation" rel="nofollow noreferrer">Automatic memory allocation</a></li>
<li>The <a href="https://en.wikipedia.org/wiki/C_dynamic_memory_allocation" rel="nofollow noreferrer">C Dynamic Memory Allocation page</a> on Wikipedia</li>
<li>This <a href="http://www.memorymanagement.org/index.html" rel="nofollow noreferrer">Memory Management Reference</a> has more details on the underlying implementations for dynamic allocators.</li>
</ul>

                                    </div>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div class="profile-container">
                                            <div class="profile-details-container d-flex align-items-center">
                                                    <div class="asker-name"><a href="https://stackoverflow.com/users/140264/brice" target="_blank">brice</a></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br/>
                    </div>
                </div>
                <div class="text-center mt-5 mb-5">
                    <a href="https://stackoverflow.com/questions/8385322" class="btn-only d-inline-block stack-overflow-identity" target="_blank"><i class="fab fa-stack-overflow"></i> View more on Stack Overflow</a>
                </div>
            </div>
            
            <div class="attribution">
                <div>Licensed under: <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank">CC-BY-SA</a> with <a href="https://stackoverflow.blog/2009/06/25/attribution-required/" target="_blank">attribution</a></div>
                <div>Not affiliated with: <a href="https://stackoverflow.com/questions/tagged/dapper" target="_blank">Stack Overflow</a></div>
                
            </div>
        </div>

    </div>
</div>
            
        </div>
    </div>
    <div class="col-aside-right">
        <div class="col-aside-right-inner">
        </div>
    </div>
</div>
<div class="site-footer">
</div>
    
    <a href="#" id="scroll-to-top" class="back-to-top" style="display: inline;">Icon</a>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="http://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

<script>
    $(function() {
        $('a').each(function() {
            var a = new RegExp('/' + window.location.host + '/');
            if (!a.test(this.href)) {
                $(this).attr("target", "_blank");
            }
        });

        $("table").addClass("table table-bordered table-hover table-responsive-sm table-striped");
        $("thead").addClass("thead-dark");

        $('aside a').each(function() {
            if ($(this).attr('href') == '/{{page.permalink}}' ||
                $(this).attr('href') == '{{ site.github.url }}/{{page.permalink}}') {
                $(this).addClass('font-weight-bold');
            }
        });
    });
</script>


</body>

<!-- Mirrored from c.programmingpedia.net/en/knowledge-base/8385322/difference-between-static-memory-allocation-and-dynamic-memory-allocation by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 16 Jan 2021 10:13:09 GMT -->
</html>
