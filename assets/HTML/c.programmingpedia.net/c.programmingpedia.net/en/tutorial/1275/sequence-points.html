<!DOCTYPE html>



<html lang="en" itemscope itemtype="http://schema.org/TechArticle">

<!-- Mirrored from c.programmingpedia.net/en/tutorial/1275/sequence-points by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 16 Jan 2021 09:03:37 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- webmaster tools -->
        <meta name="google-site-verification" content="" />
        <!-- Open Graph Tags -->
        <meta name="title" property="og:title" content="Sequence points | C Language Tutorial">
        <meta name="description" property="og:description" content="Sequence points | C Language Tutorial">
        <title>Sequence points | C Language Tutorial</title>

    

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    
        <style>
            body{margin:0;}img{max-width:100%;}ul{margin-top:0;margin-bottom:1rem;}.list-inline{padding-left:0;list-style:none;}.list-inline-item{display:inline-block;}.list-inline-item:not(:last-child){margin-right:.5rem;}.site-header{display:flex;height:60px;}.site-main,.site-footer{display:flex;}.col-aside-left-and-sidebar .col-aside-left,.col-sidebar,.col-content,.col-aside-right{position:relative;}.site-header .col-aside-left-and-sidebar-inner,.site-header .col-aside-right-inner,.site-header .col-content-inner{height:60px;}.site-header .col-aside-left-and-sidebar-inner,.site-header .col-aside-right-inner{position:fixed;z-index:1;}.site-main .col-aside-left-inner,.site-main .col-sidebar-inner,.site-main .col-aside-right-inner{height:calc(100vh - 60px);position:fixed;}.site-main .col-sidebar-overflow{height:calc(100vh - 60px);position:relative;overflow-x:hidden;overflow-y:auto;}.col-aside-left-and-sidebar,.col-aside-left-and-sidebar-inner{width:calc(50% - 450px);}.col-aside-left,.col-aside-left-inner{width:calc(50% - 750px);}.col-sidebar,.col-sidebar-inner{width:300px;}.col-content,.col-content-inner{width:1200px;}.col-aside-right,.col-aside-right-inner{width:calc(50% - 750px);}@media(max-width:1869px){.col-aside-left-and-sidebar,.col-aside-left-and-sidebar-inner{width:calc(50% - 500px);}.col-aside-left,.col-aside-left-inner{display:none;}.col-sidebar,.col-sidebar-inner{width:calc(50% - 500px);}.col-content,.col-content-inner{width:1000px;}.col-aside-right,.col-aside-right-inner{width:calc(50% - 500px);}}@media(max-width:1549px){.col-aside-left-and-sidebar,.col-aside-left-and-sidebar-inner{width:calc(50% - 400px);}.col-sidebar,.col-sidebar-inner{width:calc(50% - 400px);}.col-content,.col-content-inner{width:800px;}.col-aside-right,.col-aside-right-inner{width:calc(50% - 400px);}}@media(max-width:1229px){.col-aside-left-and-sidebar,.col-aside-left-and-sidebar-inner{width:300px;}.col-sidebar,.col-sidebar-inner{width:300px;}.col-content{width:calc(100% - 300px);}.col-content-inner{width:100%;}.col-aside-right,.col-aside-right-inner{display:none;}}@media(max-width:1000px){.col-aside-left-and-sidebar,.col-aside-left-and-sidebar-inner{width:250px;}.col-sidebar,.col-sidebar-inner{width:250px;}.col-content{width:calc(100% - 250px);}}@media(max-width:767px){.col-aside-left-and-sidebar,.col-aside-left-and-sidebar-inner{display:none;}.col-sidebar,.col-sidebar-inner{display:none;}.col-content{width:100%;}.site-main{display:initial;}.site-main .col-sidebar,.site-main .col-sidebar-inner{display:initial;width:100%;position:relative;}.site-main .col-sidebar-overflow{height:calc(30vh);}}.site-header .col-aside-left-and-sidebar-inner,.site-header .col-aside-right-inner,.site-header .col-content-inner{box-shadow:rgba(116,129,141,.1) 0 3px 8px 0;border-bottom:1px solid #d4dadf;}.site-header .col-aside-left-and-sidebar-inner,.site-header .col-aside-right-inner,.site-main .col-aside-left-inner,.site-main .col-sidebar-inner,.site-main .col-aside-right-inner{background:#f5f7f9 none repeat scroll 0% 0%;}.site-header .col-aside-left-and-sidebar-inner,.site-main .col-sidebar-inner{border-right:1px solid #e6ecf1;}.site-header .col-aside-right,.site-main .col-aside-right{border-left:1px solid #e6ecf1;}.brand{font-size:24px;font-weight:bold;height:100%;text-align:right;margin-right:20px;margin-top:10px;}
        </style>
    <link rel="stylesheet" type="text/css" href="../../../styles/master.min0e4d.css?v=todo">
    <!-- to fix/move? -->
    

    
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-55584370-32"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-131737769-1');
    </script>


</head>
<body>


<div class="site-header">
    <div class="col-aside-left-and-sidebar">
        <div class="col-aside-left-and-sidebar-inner">
            <div class="brand">
                <i class="fas fa-yin-yang" style="color: #0056b3;"></i>&nbsp;
                C Language Pedia
            </div>
        </div>
    </div>
    <div class="col-content">
        <div class="col-content-inner">
<div>
    <ul class="list-inline">
        <li class="list-inline-item"><a href="../../../index.html">Tutorial</a></li>
            <li class="list-inline-item"><a href="../../knowledge-base.html">Knowledge-Base</a></li>

            <li class="list-inline-item"><a href="../../awesome-learning/book.html">Awesome</a></li>
    </ul>
</div>

<style>
    .site-header .col-content .list-inline {
        padding-left: 20px;
        padding-top: 15px;

        font-weight: bold;
    }
</style>
        </div>
    </div>
    <div class="col-aside-right">
        <div class="col-aside-right-inner">
            
        </div>
    </div>
</div>
<div class="site-main">
    <div class="col-aside-left">
        <div class="col-aside-left-inner">
            
        </div>
    </div>
    <div class="col-sidebar">
        <div class="col-sidebar-inner">

            <div class="col-sidebar-overflow">
                
    <ul>
                    <li><a href="../../../index.html">Getting started with C Language</a></li>
                <li><a href="../6846/-ctype-h----character-classification---conversion.html">&lt;ctype.h&gt; â€” character classification &amp; conversion</a></li>
                <li><a href="../1301/aliasing-and-effective-type.html">Aliasing and effective type</a></li>
                <li><a href="../322/arrays.html">Arrays</a></li>
                <li><a href="../555/assertion.html">Assertion</a></li>
                <li><a href="../4924/atomics.html">Atomics</a></li>
                <li><a href="../1930/bit-fields.html">Bit-fields</a></li>
                <li><a href="../3336/boolean.html">Boolean</a></li>
                <li><a href="../1285/command-line-arguments.html">Command-line arguments</a></li>
                <li><a href="../10670/comments.html">Comments</a></li>
                <li><a href="../10543/common-c-programming-idioms-and-developer-practices.html">Common C programming idioms and developer practices</a></li>
                <li><a href="../2006/common-pitfalls.html">Common pitfalls</a></li>
                <li><a href="../1337/compilation.html">Compilation</a></li>
                <li><a href="../4135/compound-literals.html">Compound Literals</a></li>
                <li><a href="../7397/constraints.html">Constraints</a></li>
                <li><a href="../6257/create-and-include-header-files.html">Create and include header files</a></li>
                <li><a href="../309/data-types.html">Data Types</a></li>
                <li><a href="../3104/declaration-vs-definition.html">Declaration vs Definition</a></li>
                <li><a href="../3729/declarations.html">Declarations</a></li>
                <li><a href="../5460/enumerations.html">Enumerations</a></li>
                <li><a href="../2486/error-handling.html">Error handling</a></li>
                <li><a href="../507/files-and-i-o-streams.html">Files and I/O streams</a></li>
                <li><a href="../3750/formatted-input-output.html">Formatted Input/Output</a></li>
                <li><a href="../1006/function-parameters.html">Function Parameters</a></li>
                <li><a href="../250/function-pointers.html">Function Pointers</a></li>
                <li><a href="../571/generic-selection.html">Generic selection</a></li>
                <li><a href="../1804/identifier-scope.html">Identifier Scope</a></li>
                <li><a href="../4832/implementation-defined-behaviour.html">Implementation-defined behaviour</a></li>
                <li><a href="../2529/implicit-and-explicit-conversions.html">Implicit and Explicit Conversions</a></li>
                <li><a href="../4547/initialization.html">Initialization</a></li>
                <li><a href="../4263/inline-assembly.html">Inline assembly</a></li>
                <li><a href="../7427/inlining.html">Inlining</a></li>
                <li><a href="../10564/interprocess-communication--ipc-.html">Interprocess Communication (IPC)</a></li>
                <li><a href="../5151/iteration-statements-loops--for--while--do-while.html">Iteration Statements/Loops: for, while, do-while</a></li>
                <li><a href="../5568/jump-statements.html">Jump Statements</a></li>
                <li><a href="../560/linked-lists.html">Linked lists</a></li>
                <li><a href="../3455/literals-for-numbers--characters-and-strings.html">Literals for numbers, characters and strings</a></li>
                <li><a href="../4726/memory-management.html">Memory management</a></li>
                <li><a href="../7111/multi-character-character-sequence.html">Multi-Character Character Sequence</a></li>
                <li><a href="../10489/multithreading.html">Multithreading</a></li>
                <li><a href="../256/operators.html">Operators</a></li>
                <li><a href="../6862/pass-2d-arrays-to-functions.html">Pass 2D-arrays to functions</a></li>
                <li><a href="../1108/pointers.html">Pointers</a></li>
                <li><a href="../447/preprocessor-and-macros.html">Preprocessor and Macros</a></li>
                <li><a href="../365/random-number-generation.html">Random Number Generation</a></li>
                <li><a href="../3073/selection-statements.html">Selection Statements</a></li>
                <li><a href="sequence-points.html">Sequence points</a></li>
                <li><a href="../7094/side-effects.html">Side Effects</a></li>
                <li><a href="../453/signal-handling.html">Signal handling</a></li>
                <li><a href="../3170/standard-math.html">Standard Math</a></li>
                <li><a href="../3597/storage-classes.html">Storage Classes</a></li>
                <li><a href="../1990/strings.html">Strings</a></li>
                <li><a href="../1119/structs.html">Structs</a></li>
                <li><a href="../4590/structure-padding-and-packing.html">Structure Padding and Packing</a></li>
                <li><a href="../6779/testing-frameworks.html">Testing frameworks</a></li>
                <li><a href="../4432/threads--native-.html">Threads (native)</a></li>
                <li><a href="../2588/type-qualifiers.html">Type Qualifiers</a></li>
                <li><a href="../2681/typedef.html">Typedef</a></li>
                <li><a href="../364/undefined-behavior.html">Undefined behavior</a></li>
                <li><a href="../7645/unions.html">Unions</a></li>
                <li><a href="../2674/valgrind.html">Valgrind</a></li>
                <li><a href="../455/variable-arguments.html">Variable arguments</a></li>
                <li><a href="../628/x-macros.html">X-macros</a></li>
    </ul>

            </div>

        </div>
    </div>
    <div class="col-content">
        <div class="col-content-inner">
            


<div class="page-article" itemprop="mainEntityOfPage">

    <h1 itemprop="headline" id="sequence-points">Sequence points</h1>
    
    <div itemprop="articleBody">
            <script async type="text/javascript" src="https://cdn.carbonads.com/carbon.js?serve=CK7ITK3J&amp;placement=pythonpediacom" id="_carbonads_js"></script>




            <h2 id="remarks">Remarks</h2>
            <div>
                <p><strong>International Standard ISO/IEC 9899:201x Programming languages â€” C</strong></p>
<blockquote>
<p>Accessing a volatile object, modifying an object, modifying a file, or
calling a function that does any of those operations are all <em>side
effects</em>, which are changes in the state of the execution environment.</p>
</blockquote>
<blockquote>
<p>The presence of a <em>sequence point</em> between the evaluation of expressions
A and B implies that every value computation and side effect
associated with A is sequenced before every value computation and side
effect associated with B.</p>
</blockquote>
<p>Here is the complete list of sequence points from Annex C of the <a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf" rel="nofollow noreferrer">online 2011 pre-publication draft</a> of the C language standard:</p>
<blockquote>
<strong>Sequence points</strong><br><br>
1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The following are the sequence points described in 5.1.2.3:<br><br>
<ul><li>Between the evaluations of the function designator and actual arguments in a function
call and the actual call. (6.5.2.2).
<li>Between the evaluations of the first and second operands of the following operators:
logical AND <strong><code>&&</code></strong> (6.5.13); logical OR <strong><code>||</code></strong> (6.5.14); comma <strong><code>,</code></strong> (6.5.17).
<li>Between the evaluations of the first operand of the conditional <strong><code>? :</code></strong> operator and
whichever of the second and third operands is evaluated (6.5.15).
<li>The end of a full declarator: declarators (6.7.6);
<li>Between the evaluation of a full expression and the next full expression to be
evaluated. The following are full expressions: an initializer that is not part of a
compound literal (6.7.9); the expression in an expression statement (6.8.3); the
controlling expression of a selection statement (<strong><code>if</code></strong> or <strong><code>switch</code></strong>) (6.8.4); the
controlling expression of a <strong><code>while</code></strong> or <strong><code>do</code></strong> statement (6.8.5); each of the (optional)
expressions of a <strong><code>for</code></strong> statement (6.8.5.3); the (optional) expression in a <strong><code>return</code></strong>
statement (6.8.6.4).
<li>Immediately before a library function returns (7.1.4).
<li>After the actions associated with each formatted input/output function conversion
specifier (7.21.6, 7.29.2).
<li>Immediately before and immediately after each call to a comparison function, and
also between any call to a comparison function and any movement of the objects
passed as arguments to that call (7.22.5).
</ul>
</blockquote>


            </div>


            <h2 id="indeterminately-sequenced-expressions">Indeterminately sequenced expressions</h2>
            <div>
                <p>Function calls as <code>f(a)</code> always imply a sequence point between the evaluation of the arguments and the designator (here <code>f</code> and <code>a</code>) and the actual call. If two such calls are unsequenced, the two function calls are indeterminately sequenced, that is, one is executed before the other, and order is unspecified.</p>
<pre><code>unsigned counter = 0;

unsingned account(void) {
   return counter++;
}

int main(void) {
   printf(&quot;the order is %u %u\n&quot;, account(), account());
}
</code></pre>
<p>This implicit twofold modification of <code>counter</code> during the evaluation of the <code>printf</code> arguments is valid, we just don't know which of the calls comes first. As the order is unspecified, it may vary and cannot be depended on. So the printout could be:</p>
<blockquote>
<p>the order is 0 1</p>
</blockquote>
<p>or</p>
<blockquote>
<p>the order is 1 0</p>
</blockquote>
<p>The analogous statement to the above without intermediate function call</p>
<pre><code>   printf(&quot;the order is %u %u\n&quot;, counter++, counter++); // undefined behavior
</code></pre>
<p>has undefined behavior because there is no sequence point between the two modifications of <code>counter</code>.</p>


            </div>
            <h2 id="sequenced-expressions">Sequenced expressions</h2>
            <div>
                <p>The following expressions are <em>sequenced</em>:</p>
<pre><code>a &amp;&amp; b
a || b
a , b
a ? b : c
for ( a ; b ; c ) { ... }
</code></pre>
<p>In all cases, the expression <code>a</code> is fully evaluated and <em>all side effects are applied</em> before either <code>b</code> or <code>c</code> are evaluated.  In the fourth case, only one of <code>b</code> or <code>c</code> will be evaluated.  In the last case, <code>b</code> is fully evaluated and all side effects are applied before <code>c</code> is evaluated.</p>
<p>In all cases, the evaluation of expression <code>a</code> is <em>sequenced before</em> the evaluations of <code>b</code> or <code>c</code> (alternately, the evaluations of <code>b</code> and <code>c</code> are <em>sequenced after</em> the evaluation of <code>a</code>).</p>
<p>Thus, expressions like</p>
<pre><code>x++ &amp;&amp; x++
x++ ? x++ : y++ 
(x = f()) &amp;&amp; x != 0
for ( x = 0; x &lt; 10; x++ ) { ... }
y = (x++, x++);
</code></pre>
<p>have well defined behavior.</p>


            </div>
            <h2 id="unsequenced-expressions">Unsequenced expressions</h2>
            <div>
                <div class='version-specific' data-version-json='[{&quot;Type&quot;:&quot;GreaterThanOrEqual&quot;,&quot;GroupName&quot;:null,&quot;VersionName&quot;:&quot;C11&quot;}]'><span class='version-row'><span class='version'><span class='version-constraint version-kind-greaterthanorequal'>C11</span></span></span><div class='version-specific-content'>
<p>The following expressions are <em>unsequenced</em>:</p>
<pre><code>a + b;
a - b;
a * b;
a / b;
a % b;
a &amp; b;
a | b;
</code></pre>
<p>In the above examples, the expression <code>a</code> may be evaluated before or after the expression <code>b</code>, <code>b</code> may be evaluated before <code>a</code>, or they may even be intermixed if they correspond to several instructions.</p>
<p>A similar rule holds for function calls:</p>
<pre><code>f(a, b);
</code></pre>
<p>Here not only <code>a</code> and <code>b</code> are unsequenced (i.e. the <code>,</code> operator in a function call <em>does not</em> produce a sequence point) but also <code>f</code>, the expression that determines the function that is to be called.</p>
<p>Side effects may be applied immediately after evaluation or deferred until a later point.</p>
<p>Expressions like</p>
<pre><code>x++ &amp; x++;
f(x++, x++); /* the ',' in a function call is *not* the same as the comma operator */
x++ * x++;
a[i] = i++;
</code></pre>
<p>or</p>
<pre><code>x++ &amp; x;
f(x++, x);
x++ * x;
a[i++] = i;
</code></pre>
<p>will yield <em>undefined behavior</em> because</p>
<ul>
<li>a modification of an object and any other access to it must be sequenced</li>
<li>the order of evaluation and the order in which <em>side effects</em><sup>1</sup> are applied is not specified.</li>
</ul>
</div></div>
<hr />
<p><sub>1 Any changes in the state of the execution environment.</sub></p>


            </div>
    </div>
   
    
    <hr/>
    <div class="paging">
        <div class="paging-previous">
                    <a href="../3073/selection-statements.html">Previous Topic</a>
        </div>
        <div class="paging-next">
                <a href="../7094/side-effects.html">Next Topic</a>
        </div>
    </div>
    <hr/>
    
    <div style="display: none">
        <div itemprop="author" itemscope itemtype="https://schema.org/Organization"><span itemprop="name">SO Community</span></div>
        <div itemprop="dateCreated">2016-07-21</div>
        <div itemprop="datePublished">2016-07-21</div>
        <div itemprop="dateModified">2017-07-18</div>
        <div itemprop="image" itemscope itemtype="https://schema.org/ImageObject">
            <span itemprop="url">http://i.stack.imgur.com/3bQIZ.png</span>
        </div>
        <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
            <span itemprop="name">C Language Pedia</span>
            <span itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
                <span itemprop="url">https://c.programmingpedia.net/favicon.ico</span>
            </span>
        </div>
    </div>
    <div class="box-copyright">
        <div>This modified text is an extract of the original Stack Overflow Documentation created by following <a href="https://riptutorial.com/contributor?topicId=1275" target="_blank">contributors</a> and released under <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank">CC BY-SA 3.0</a></div>
        <div>This website is not affiliated with <a href="https://stackoverflow.com/" target="_blank">Stack Overflow</a></div>
        <div>Email: <a href="mailto: tutorialpedia@outlook.com">tutorialpedia@outlook.com</a></div>
    </div>
</div>


            
        </div>
    </div>
    <div class="col-aside-right">
        <div class="col-aside-right-inner">


<ul id="accordion_-1114748793" class="nav-toc">
        <li class="nav-toc-item   " >
                <a class="nav-toc-link" href="#remarks">
                    Remarks
                </a>
            
        </li>
        <li class="nav-toc-item   " >
                <a class="nav-toc-link" href="#indeterminately-sequenced-expressions">
                    Indeterminately sequenced expressions
                </a>
            
        </li>
        <li class="nav-toc-item   " >
                <a class="nav-toc-link" href="#sequenced-expressions">
                    Sequenced expressions
                </a>
            
        </li>
        <li class="nav-toc-item   " >
                <a class="nav-toc-link" href="#unsequenced-expressions">
                    Unsequenced expressions
                </a>
            
        </li>
</ul>

        </div>
    </div>
</div>
<div class="site-footer">
</div>
    
    <a href="#" id="scroll-to-top" class="back-to-top" style="display: inline;">Icon</a>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="http://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

<script>
    $(function() {
        $('a').each(function() {
            var a = new RegExp('/' + window.location.host + '/');
            if (!a.test(this.href)) {
                $(this).attr("target", "_blank");
            }
        });

        $("table").addClass("table table-bordered table-hover table-responsive-sm table-striped");
        $("thead").addClass("thead-dark");

        $('aside a').each(function() {
            if ($(this).attr('href') == '/{{page.permalink}}' ||
                $(this).attr('href') == '{{ site.github.url }}/{{page.permalink}}') {
                $(this).addClass('font-weight-bold');
            }
        });
    });
</script>


</body>

<!-- Mirrored from c.programmingpedia.net/en/tutorial/1275/sequence-points by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 16 Jan 2021 09:03:37 GMT -->
</html>
