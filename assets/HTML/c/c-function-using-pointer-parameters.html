<!doctype html>
<html lang='en'>

<!-- Mirrored from www.demo2s.com/c/c-function-using-pointer-parameters.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 27 Dec 2020 08:56:04 GMT -->
<head>
<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no'>
<link rel='shortcut icon' href='https://www.demo2s.com/java/favicon.ico'>
<link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css' integrity='sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh' crossorigin='anonymous'>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script src='https://code.jquery.com/jquery-3.4.1.slim.min.js' integrity='sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n' crossorigin='anonymous'></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<style>
#sidebar {transition: all 0.3s;}
#sidebar.active {margin-left: 0px;}
#leftBarButton{display:none;}    
@media (max-width: 768px) {#sidebar {display:none;}#sidebar.active {display:block;}#leftBarButton{display:block;}}
.myCodeDiv {position: relative;}
.myCopyButton{position:absolute;top:0;right:0;z-index:10;display: block;padding: 5px 8px;
border: 1px solid #ccc;
border-radius: 0 4px 0 4px;
font-size: 12px;
background-color: #fff;
cursor: pointer;
}
pre.code {border: 1px solid #ccc;background-color: #F7F7F9;padding: 9px 14px;}
a{color:#337ab7;}
p { font-size:120%;margin: 10px 0 10px 0;}
table { font-size:120%;}
.r {color:#7f0055;font-weight:bold;}
.q {color:#2a00ff;font-weight:bold;}
.c {color:#3f7f5f;font-weight:bold;}

</style>
<title>C function Using Pointer Parameters</title>
</head>
<body>
<div class='container-xl'>
<nav aria-label='breadcrumb'>
<ol class='breadcrumb'>
<li class='breadcrumb-item'><a href='http://www.demo2s.com/'>Home</a></li>
<li class='breadcrumb-item' aria-current='C'><a href='c.html'>C</a></li><li class='breadcrumb-item' aria-current='C function Using Pointer Parameters'>C function Using Pointer Parameters</li>
</ol>
</nav>
<button id='leftBarButton' style='float:right'>Menu</button>
<div class='row'>
<div id='sidebar' class='col-12 col-md-3 col-lg-3'>
<UL style='border-right:1px solid black;word-wrap:break-word;list-style-type:none;padding:0px'><LI><UL style='list-style-type:none;padding-left:0px'><LI style='font-size:20px;font-style:bold;'>Introduction
</LI><LI><h6 style='word-wrap:break-word'><a href='c-function-syntax.html'>C function syntax

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-function-finds-the-lesser-of-two-values.html'>C function intro demo

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-function-prototype-declaration.html'>C prototype declaration

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-block-variable-shadow-example.html'>C Variable shadow example

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-static-variables-keeping-track-within-a-function.html'>C function Static Variables 

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-sharing-variables-between-functions-using-global-variables.html'>C function global variables

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-function-name.html'>C function name

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-specifying-the-return-value-type-for-function.html'>C function return

</a></h6></LI><LI style='font-size:20px;font-style:bold;'>Parameter
</LI><LI><h6 style='word-wrap:break-word'><a href='c-function-parameters.html'>C Function Parameters 

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-function-parameter-pass-by-value-mechanism.html'>C Parameter Pass by Value

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-function-parameter-pass-by-address-mechanism.html'>C Parameter Pass by Address

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-protecting-array-contents-with-const.html'>C Parameter Protecting

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-function-const-parameters.html'>C Parameter const

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-function-declaring-array-parameters.html'>C Parameter Array 

</a></h6></LI><LI style='background-color:#d6d8d9' ><h6><a href='#'>C Parameter Pointer 

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-functions-and-multidimensional-arrays.html'>C Parameter Array 2D

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-functions-with-a-variable-number-of-arguments.html'>C function variable argument length

</a></h6></LI><LI style='font-size:20px;font-style:bold;'>Recursion
</LI><LI><h6 style='word-wrap:break-word'><a href='c-function-recursion.html'>C function recursion

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-function-recursion-to-calculate-factorials.html'>C function recursion factorial

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-function-recursion-prints-the-binary-equivalent-of-an-integer.html'>C function recursion binary

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-function-recursive-to-calculate-power.html'>C function recursion power

</a></h6></LI><LI style='font-size:20px;font-style:bold;'>Function Pointer
</LI><LI><h6 style='word-wrap:break-word'><a href='c-declaring-a-pointer-to-a-function.html'>C function pointer

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-arrays-of-pointers-to-functions.html'>C Pointer Function Array 

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-pointers-to-functions-as-arguments.html'>C Function Pointer Argument

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-use-function-as-parameter.html'>C function as parameter

</a></h6></LI><LI style='font-size:20px;font-style:bold;'>Example
</LI><LI><h6 style='word-wrap:break-word'><a href='c-function-to-raise-a-number-to-an-integer-power.html'>C Raise to Power

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-calculating-an-average-using-functions.html'>C function calculate average
</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-function-example-converts-an-integer-to-a-string.html'>C convert int to string

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-function-split-string-into-a-list-of-words.html'>C split string

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-main-function.html'>C function  main() 

</a></h6></LI><LI style='font-size:20px;font-style:bold;'>Review
</LI><LI><h6 style='word-wrap:break-word'><a href='c-function-review-question-1.html'>C Review Question 1

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-function-exercise-1.html'>C Exercise 1

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-function-exercise-2.html'>C exercise 2

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-function-exercise-3.html'>C exercise 3

</a></h6></LI></UL></LI></UL>
</div>
<div style='min-height:700px;' class='col-12 col-md-9 col-lg-9'>
<h1>C function Using Pointer Parameters</h1>
<a class ='btn btn-outline-dark' href=c-function-declaring-array-parameters.html>Previous</a><a class ='btn btn-outline-dark' style='float:right' href=c-functions-and-multidimensional-arrays.html>Next</a><p>We can pass an the array to a function via two pointers, with the first indicating where the array
starts and the second where the array ends. 

</p><p>The following code shows how to do it. 

</p><p>It also uses the fact that a pointer parameter is a variable, which means that instead of using an
index to indicate which element in the array to access, the function can alter the value of the
pointer itself, making it point to each array element in turn.

</p><div class='myCodeDiv'><button id='TFNBQ' class='myCopyButton' data-clipboard-target='#RNVSB'>Copy</button><pre  id='RNVSB' style='font-size:18px;' class='code'>#<span class='r'>include</span> &lt;stdio.h&gt;
#define SIZE 10
<span class='r'>int</span> sump(<span class='r'>int</span> * start, <span class='r'>int</span> * end);
<span class='r'>int</span> main(<span class='r'>void</span>)
{
    <span class='r'>int</span> marbles[SIZE] = {21,11,5,39,4,16,19,26,321,21};
    <span class='r'>long</span> answer;

    answer = sump(marbles, marbles + SIZE);
    printf(<span class='q'>"The total number of marbles is %ld.\n"</span>, answer);

    <span class='r'>return</span> 0;
}

<span class='c'>/* use pointer arithmetic   */</span>
<span class='r'>int</span> sump(<span class='r'>int</span> * start, <span class='r'>int</span> * end)
{
    <span class='r'>int</span> total = 0;

    <span class='r'>while</span> (start &lt; end)
    {
        total += *start; <span class='c'>// add value to total</span>
        start++;         <span class='c'>// advance pointer to next element</span>
    }

    <span class='r'>return</span> total;
}
</pre><script type='text/javascript'>var clipboard = new ClipboardJS('#TFNBQ');clipboard.on('success', function(e) {$('#TFNBQ').text('copied');e.clearSelection();});clipboard.on('error', function(e) {$('#TFNBQ').text('error');});</script></div><p>The pointer start begins by pointing to the first element of marbles, so the assignment
expression total +=*start adds the value of the first element (20) to total. 

</p><p>Then the expression start++ increments the pointer variable start so that it points to 
the next element in the array. 

</p><p>Because start points to type int, C increments the value of start by the size of int.

</p><p>The <i style='color:blue'>sump</i>() function uses a second pointer to end the loop:
</p><div class='myCodeDiv'><button id='QYQAG' class='myCopyButton' data-clipboard-target='#PSQDE'>Copy</button><pre  id='PSQDE' style='font-size:18px;' class='code'><span class='r'>while</span> (start &lt; end)
</pre><script type='text/javascript'>var clipboard = new ClipboardJS('#QYQAG');clipboard.on('success', function(e) {$('#QYQAG').text('copied');e.clearSelection();});clipboard.on('error', function(e) {$('#QYQAG').text('error');});</script></div><p>Because the test is for inequality, the last element processed is the one just before the element
pointed to by end. 

</p><p>This means that end actually points to the location after the final element in the array. 

</p><p>C guarantees that when it allocates space for an array, a pointer to the first location after the 
end of the array is a valid pointer. 

</p><p>That makes constructions such as this one valid, because the final value that start gets in the 
loop is end. 

</p><p>Note that using this "past-the-end" pointer makes the function call neat:
</p><div class='myCodeDiv'><button id='FRFTS' class='myCopyButton' data-clipboard-target='#UDKMY'>Copy</button><pre  id='UDKMY' style='font-size:18px;' class='code'>answer = sump(marbles, marbles + SIZE);
</pre><script type='text/javascript'>var clipboard = new ClipboardJS('#FRFTS');clipboard.on('success', function(e) {$('#FRFTS').text('copied');e.clearSelection();});clipboard.on('error', function(e) {$('#FRFTS').text('error');});</script></div><p>Because indexing starts at 0, marbles + SIZE points to the next element after the end. 

</p><p>If end pointed to the last element instead of to one past the end, you would have to use the following
code instead:
</p><div class='myCodeDiv'><button id='DZSLE' class='myCopyButton' data-clipboard-target='#QQTRZ'>Copy</button><pre  id='QQTRZ' style='font-size:18px;' class='code'>answer = sump(marbles, marbles + SIZE - 1);
</pre><script type='text/javascript'>var clipboard = new ClipboardJS('#DZSLE');clipboard.on('success', function(e) {$('#DZSLE').text('copied');e.clearSelection();});clipboard.on('error', function(e) {$('#DZSLE').text('error');});</script></div><p>You can also condense the body of the loop to one line:
</p><div class='myCodeDiv'><button id='JGZCL' class='myCopyButton' data-clipboard-target='#DZDOM'>Copy</button><pre  id='DZDOM' style='font-size:18px;' class='code'>total += *start++;
</pre><script type='text/javascript'>var clipboard = new ClipboardJS('#JGZCL');clipboard.on('success', function(e) {$('#JGZCL').text('copied');e.clearSelection();});clipboard.on('error', function(e) {$('#JGZCL').text('error');});</script></div><p>The unary operators * and ++ have the same precedence but associate from right to left. 

</p><p>This means the ++ applies to start, not to *start. 

</p><p>That is, the pointer is incremented, not the value pointed to. 

</p><p>The use of the postfix form (start++ rather than ++start) means that the pointer is not 
incremented until after the pointed-to value is added to total. 

</p><p>If the program used *++start, the order would be increment the pointer, then use the value 
pointed to. 

</p><p>If the program used (*start)++, however, it would use the value of start and then increment
the value, not the pointer. 

</p><p>That would leave the pointer pointing to the same element, but the
element would contain a new number. 

</p><p>Although the *start++ notation is commonly used, the *(start++) notation is clearer. 

</p><h3>Example 
</h3><p>The following code illustrates these precedence.
</p><div class='myCodeDiv'><button id='RRWIA' class='myCopyButton' data-clipboard-target='#FLRGX'>Copy</button><pre  id='FLRGX' style='font-size:18px;' class='code'>#<span class='r'>include</span> &lt;stdio.h&gt;
<span class='r'>int</span> data[2] = {100, 200};
<span class='r'>int</span> moredata[2] = {300, 400};
<span class='r'>int</span> main(<span class='r'>void</span>)
{
    <span class='r'>int</span> * p1, * p2, * p3;

    p1 = p2 = data;
    p3 = moredata;
    printf(<span class='q'>" *p1 = %d,    *p2 = %d,     *p3 = %d\n"</span>,
              *p1     ,   *p2     ,     *p3);
    printf(<span class='q'>"*p1++ = %d, *++p2 = %d, (*p3)++ = %d\n"</span>,
            *p1++     , *++p2     , (*p3)++);
    printf(<span class='q'>" *p1 = %d,    *p2 = %d,     *p3 = %d\n"</span>,
              *p1     ,   *p2     ,     *p3);

    <span class='r'>return</span> 0;
}
</pre><script type='text/javascript'>var clipboard = new ClipboardJS('#RRWIA');clipboard.on('success', function(e) {$('#RRWIA').text('copied');e.clearSelection();});clipboard.on('error', function(e) {$('#RRWIA').text('error');});</script></div><p>Output:
Here is its output:
  *p1 = 100,   *p2 = 100,     *p3 = 300
*p1++ = 100, *++p2 = 200, (*p3)++ = 300
  *p1 = 200,   *p2 = 200,     *p3 = 301

</p><p>The only operation that altered an array value is (*p3)++. The other two operations caused p1
and p2 to advance to point to the next array element.
</p><a class ='btn btn-outline-dark' href=c-function-declaring-array-parameters.html>Previous</a><a class ='btn btn-outline-dark' style='float:right' href=c-functions-and-multidimensional-arrays.html>Next</a><h2>Related</h2><UL><LI><a href='c-protecting-array-contents-with-const.html'>C Protecting Array Contents with const</a></LI><LI><a href='c-function-const-parameters.html'>C function const Parameters</a></LI><LI><a href='c-function-declaring-array-parameters.html'>C function Declaring Array Parameters</a></LI><LI><a href='c-functions-and-multidimensional-arrays.html'>C Functions and Multidimensional Arrays</a></LI><LI><a href='c-functions-with-a-variable-number-of-arguments.html'>C Functions with a Variable Number of Arguments</a></LI></UL></div>
</div>
<script type='text/javascript'>
$(document).ready(function () {
$('#leftBarButton').on('click', function () {$('#sidebar').toggleClass('active');});
});        
</script>
<footer style='margin-left:40px;margin-top:40px;'>
<p class='pull-right'><a href='http://www.demo2s.com/'>demo2s.com</a>&nbsp;|
&nbsp;Email:<script language='JavaScript' type='text/javascript'>
var part1 = 'yinpeng';var part6 = '263';var part2 = Math.pow(2,6);var part3 = String.fromCharCode(part2);var part4 = 'hotmail.com';var part5 = part1 + String.fromCharCode(part2) + part4;document.write(part1 + part6 + part3 + part4);
</script>&nbsp;|&nbsp;Demo Source and Support. All rights reserved.</p>
</footer>  
</body>

<!-- Mirrored from www.demo2s.com/c/c-function-using-pointer-parameters.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 27 Dec 2020 08:56:04 GMT -->
</html>

