<!doctype html>
<html lang='en'>

<!-- Mirrored from www.demo2s.com/c/c-character-string-exercise-4.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 27 Dec 2020 08:56:04 GMT -->
<head>
<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no'>
<link rel='shortcut icon' href='https://www.demo2s.com/java/favicon.ico'>
<link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css' integrity='sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh' crossorigin='anonymous'>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script src='https://code.jquery.com/jquery-3.4.1.slim.min.js' integrity='sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n' crossorigin='anonymous'></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<style>
#sidebar {transition: all 0.3s;}
#sidebar.active {margin-left: 0px;}
#leftBarButton{display:none;}    
@media (max-width: 768px) {#sidebar {display:none;}#sidebar.active {display:block;}#leftBarButton{display:block;}}
.myCodeDiv {position: relative;}
.myCopyButton{position:absolute;top:0;right:0;z-index:10;display: block;padding: 5px 8px;
border: 1px solid #ccc;
border-radius: 0 4px 0 4px;
font-size: 12px;
background-color: #fff;
cursor: pointer;
}
pre.code {border: 1px solid #ccc;background-color: #F7F7F9;padding: 9px 14px;}
a{color:#337ab7;}
p { font-size:120%;margin: 10px 0 10px 0;}
table { font-size:120%;}
.r {color:#7f0055;font-weight:bold;}
.q {color:#2a00ff;font-weight:bold;}
.c {color:#3f7f5f;font-weight:bold;}

</style>
<title>C Character String Exercise 4</title>
</head>
<body>
<div class='container-xl'>
<nav aria-label='breadcrumb'>
<ol class='breadcrumb'>
<li class='breadcrumb-item'><a href='http://www.demo2s.com/'>Home</a></li>
<li class='breadcrumb-item' aria-current='C'><a href='c.html'>C</a></li><li class='breadcrumb-item' aria-current='C Character String Exercise 4'>C Character String Exercise 4</li>
</ol>
</nav>
<button id='leftBarButton' style='float:right'>Menu</button>
<div class='row'>
<div id='sidebar' class='col-12 col-md-3 col-lg-3'>
<UL style='border-right:1px solid black;word-wrap:break-word;list-style-type:none;padding:0px'><LI><UL style='list-style-type:none;padding-left:0px'><LI style='font-size:20px;font-style:bold;'>Introduction
</LI><LI><h6 style='word-wrap:break-word'><a href='c-char-string-introduction.html'>C Char String Introduction

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-character-string-literals.html'>C Character String Literals

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-character-string-arrays-and-initialization.html'>C String Initialization

</a></h6></LI><LI style='font-size:20px;font-style:bold;'>Pointer
</LI><LI><h6 style='word-wrap:break-word'><a href='c-arrays-of-character-strings.html'>C Arrays of Character Strings

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-pointers-and-strings.html'>C Pointers and Strings

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-null-pointer-vs-null-character.html'>C NULL vs Null

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-arrays-of-strings.html'>C String Arrays   

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-count-strings-in-a-two-dimensional-array-and-the-length-of-each-stri.html'>C Array String Example

</a></h6></LI><LI style='font-size:20px;font-style:bold;'>Input Output
</LI><LI><h6 style='word-wrap:break-word'><a href='c-read-character-string-from-keyboard-via-gets.html'>C gets()

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-read-character-string-from-keyboard-via-fgets.html'>C fgets()

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-read-character-string-from-keyboard-via-gets-s.html'>C gets_s()

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-create-your-own-string-reading-function.html'>C Your own String input

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-read-character-string-from-keyboard-using-scanf-function.html'>C scanf()

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-character-string-output-with-puts-function.html'>C puts()

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-character-string-output-with-fputs-function.html'>C fputs()

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-character-string-output-with-printf-function.html'>C printf()

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-create-function-to-print-output-string.html'>C Your own String output

</a></h6></LI><LI style='font-size:20px;font-style:bold;'>Operation
</LI><LI><h6 style='word-wrap:break-word'><a href='c-finding-out-the-length-of-a-string-excluding-the-null-character.html'>C String Length

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-shorten-character-string.html'>C shorten string

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-join-two-string-with-strcat-function.html'>C Join String

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-compare-character-string.html'>C Compare String

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-character-string-copy.html'>C Copy String

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-character-string-format-with-sprintf-function.html'>C sprintf() Function

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-character-string-sort-using-selection-sort-algorithm.html'>C Sort String

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-character-string-convert-to-upper-case.html'>C Uppercase

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-character-string-count-punctuation-characters.html'>C punctuation characters

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-command-line-arguments.html'>C Command-Line Arguments

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-string-to-number-conversions.html'>C String Convert to Number

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-searching-a-string-for-a-character.html'>C String search char

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-searching-a-string-for-a-substring.html'>C String search String

</a></h6></LI><LI style='font-size:20px;font-style:bold;'>Question
</LI><LI><h6 style='word-wrap:break-word'><a href='c-character-string-review-questions-1.html'>C Review Questions 1

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-character-string-review-questions-2.html'>C Review Questions 2

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-character-string-exercise-1.html'>C exercise 1

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-character-string-exercise-2.html'>C exercise 2

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-character-string-exercise-3.html'>C exercise 3


</a></h6></LI><LI style='background-color:#d6d8d9' ><h6><a href='#'>C exercise 4

</a></h6></LI><LI style='font-size:20px;font-style:bold;'>Secure functions
</LI><LI><h6 style='word-wrap:break-word'><a href='c-checking-for-c11-c17-support-for-secure-string-processing-functions.html'>C Secure String function

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-finding-the-length-of-a-string-using-strnlen-s-function.html'>C strnlen_s()

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-copying-strings-with-strcpy-s.html'>C strcpy_s

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-concatenating-strings-using-strcat-s.html'>C strcat_s()

</a></h6></LI><LI><h6 style='word-wrap:break-word'><a href='c-join-four-strings-into-a-single-string-using-strnlen-s-and-strncat.html'>C strncat_s() Example

</a></h6></LI></UL></LI></UL>
</div>
<div style='min-height:700px;' class='col-12 col-md-9 col-lg-9'>
<h1>C Character String Exercise 4</h1>
<a class ='btn btn-outline-dark' href=c-character-string-exercise-3.html>Previous</a><a class ='btn btn-outline-dark' style='float:right' href=c-checking-for-c11-c17-support-for-secure-string-processing-functions.html>Next</a><h3>Question 1
</h3><p>Write a program that reads input up to EOF and reports the number of words, 
the number of uppercase letters, the number of lowercase letters, the number of punctuation
characters, and the number of digits. 

</p><p>Use the <i style='color:blue'>ctype.h</i> family of functions.

</p><br/><p><button type='button' class='btn btn-outline-success' data-toggle='collapse' role='button' aria-expanded='false' aria-controls='IIN' href='#IIN'>Click to view the answer</button></p><pre style='font-size:120%' id='IIN' class='collapse code'>
<span class='r'>#</span><span class='r'>include</span> &lt;stdio.h&gt;
<span class='r'>#</span><span class='r'>include</span> &lt;ctype.h&gt;
<span class='r'>#</span><span class='r'>include</span> &lt;stdbool.h&gt;
#define LENGTH 500

<span class='r'>int</span> main(<span class='r'>void</span>)
{
  <span class='r'>char</span> s[LENGTH];
  <span class='r'>int</span> words, upper, lower, punct, digits;
  <span class='r'>bool</span> in_word = <span class='r'>false</span>;
  <span class='r'>char</span> *ptr;
  words = upper = lower = punct = digits = 0;
  puts(<span class='q'>"Enter some text (EOF to finish):"</span>);
  <span class='r'>while</span> (fgets(s, LENGTH, stdin)) {
    ptr = s;
    <span class='r'>while</span> (*ptr) {
      <span class='r'>if</span> (isalpha(*ptr) &amp;&amp; !in_word) {
        in_word = <span class='r'>true</span>;
        ++words;
      } <span class='r'>else</span> <span class='r'>if</span> (isspace(*ptr)) {
        in_word = <span class='r'>false</span>;
      }
      <span class='r'>if</span> (islower(*ptr))
        ++lower;
      <span class='r'>if</span> (isupper(*ptr))
        ++upper;
      <span class='r'>if</span> (ispunct(*ptr))
        ++punct;
      <span class='r'>if</span> (isdigit(*ptr))
        ++digits;
      ++ptr;
    }
  }
  printf(<span class='q'>"Words count: %d\n"</span>
         <span class='q'>"Lowercase letters: %d\n"</span>
         <span class='q'>"Uppercase letters: %d\n"</span>
         <span class='q'>"Punctuation characters: %d\n"</span>
         <span class='q'>"Number of digits: %d\n"</span>,
         words, lower, upper, punct, digits);
  puts(<span class='q'>"Bye"</span>);
  <span class='r'>return</span> 0;
}


</pre><h3>Question 2
</h3><p>Write a program that echoes the command-line arguments in reverse word order. 

</p><p>If the command-line arguments are see you later, the program should print later you see.

</p><br/><p><button type='button' class='btn btn-outline-success' data-toggle='collapse' role='button' aria-expanded='false' aria-controls='ENN' href='#ENN'>Click to view the answer</button></p><pre style='font-size:120%' id='ENN' class='collapse code'>
<span class='r'>#</span><span class='r'>include</span> &lt;stdio.h&gt;

<span class='r'>int</span> main(<span class='r'>int</span> argc,<span class='r'>char</span> *argv[])
{
  --argc;
  <span class='r'>while</span>(argc &gt; 0)
    printf(<span class='q'>"%s "</span>, argv[argc--]);
  putchar(<span class='q'>'\n'</span>);
  <span class='r'>return</span> 0;
}


</pre><h3>Question 3
</h3><p>Write a power program that works on a command-line basis. 

</p><p>The first command-line argument should be the type double number to be raised to a certain power, and the
second argument should be the integer power.

</p><br/><p><button type='button' class='btn btn-outline-success' data-toggle='collapse' role='button' aria-expanded='false' aria-controls='HTY' href='#HTY'>Click to view the answer</button></p><pre style='font-size:120%' id='HTY' class='collapse code'>
<span class='c'>// use the -lm argument for compilation to tell gcc to link the math library</span>
<span class='r'>#</span><span class='r'>include</span> &lt;stdio.h&gt;
<span class='r'>#</span><span class='r'>include</span> &lt;stdlib.h&gt;
<span class='r'>#</span><span class='r'>include</span> &lt;math.h&gt;

<span class='r'>int</span> main(<span class='r'>int</span> argc, <span class='r'>char</span> *argv[])
{
  <span class='r'>if</span> (argc == 3)
    printf(<span class='q'>"%f\n"</span>, pow(atof(argv[1]),atoi(argv[2])));
  <span class='r'>return</span> 0;
}


</pre><h3>Question 4
</h3><p>Use the character classification functions to prepare an implementation of <i style='color:blue'>atoi</i>(); 
have this version return the value of 0 if the input string is not a pure number.

</p><br/><p><button type='button' class='btn btn-outline-success' data-toggle='collapse' role='button' aria-expanded='false' aria-controls='YBV' href='#YBV'>Click to view the answer</button></p><pre style='font-size:120%' id='YBV' class='collapse code'>
<span class='c'>// use the -lm argument for compilation to tell gcc to link the math library</span>
<span class='r'>#</span><span class='r'>include</span> &lt;stdio.h&gt;
<span class='r'>#</span><span class='r'>include</span> &lt;ctype.h&gt;
<span class='r'>#</span><span class='r'>include</span> &lt;math.h&gt;

<span class='r'>int</span> atoi(<span class='r'>const</span> <span class='r'>char</span> *);

<span class='r'>int</span> main(<span class='r'>void</span>)
{
  <span class='r'>char</span> s[20];
  printf(<span class='q'>"Enter an integer: "</span>);
  fgets(s, 20, stdin);
  printf(<span class='q'>"Here is your integer doubled: %d\n"</span>, atoi(s) * 2);
  <span class='r'>return</span> 0;
}

<span class='r'>int</span> atoi(<span class='r'>const</span> <span class='r'>char</span> *s)
{
  <span class='r'>int</span> nb_digits = 0;
  <span class='r'>const</span> <span class='r'>char</span> *start_number;
  <span class='r'>int</span> ret_val = 0;
  <span class='r'>while</span> (*s &amp;&amp; isspace(*s))
    ++s;
  <span class='r'>if</span> (!isdigit(*s)) {
    <span class='r'>return</span> 0;
  } <span class='r'>else</span> {
    start_number = s;
    <span class='r'>while</span> (*s &amp;&amp; isdigit(*s)) {
      ++nb_digits;
      ++s;
    }
    <span class='r'>for</span> (<span class='r'>int</span> i = nb_digits - 1; i &gt;= 0; --i)
      ret_val += (*start_number++ - <span class='q'>'0'</span>) * pow(10, i);
  }
  <span class='r'>return</span> ret_val;
}


</pre><h3>Question 5
</h3><p>Write a program that reads input until end-of-file and echoes it to the display. 

</p><p>Have the program recognize and implement the following command-line arguments:
</p><div class='myCodeDiv'><button id='RWBEM' class='myCopyButton' data-clipboard-target='#ULKSZ'>Copy</button><pre  id='ULKSZ' style='font-size:18px;' class='code'>-p       Print input as is
-u       Map input to all uppercase
-l       Map input to all lowercase
</pre><script type='text/javascript'>var clipboard = new ClipboardJS('#RWBEM');clipboard.on('success', function(e) {$('#RWBEM').text('copied');e.clearSelection();});clipboard.on('error', function(e) {$('#RWBEM').text('error');});</script></div><p>Also, if there are no command-line arguments, let the program behave as if the -p 
argument had been used.

</p><br/><p><button type='button' class='btn btn-outline-success' data-toggle='collapse' role='button' aria-expanded='false' aria-controls='OAB' href='#OAB'>Click to view the answer</button></p><pre style='font-size:120%' id='OAB' class='collapse code'>
<span class='r'>#</span><span class='r'>include</span> &lt;stdio.h&gt;
<span class='r'>#</span><span class='r'>include</span> &lt;string.h&gt;
<span class='r'>#</span><span class='r'>include</span> &lt;ctype.h&gt;

<span class='r'>int</span> main(<span class='r'>int</span> argc, <span class='r'>char</span> *argv[])
{
  <span class='r'>char</span> c;
  <span class='r'>if</span> (argc == 1 || (argc == 2 &amp;&amp; strcmp(argv[1], <span class='q'>"-p"</span>) == 0)) {
    <span class='r'>while</span> ((c = getchar()) != EOF)
      putchar(c);
  } <span class='r'>else</span> <span class='r'>if</span> (argc == 2) {
    <span class='r'>if</span> (strcmp(argv[1], <span class='q'>"-l"</span>) == 0) {
      <span class='r'>while</span> ((c = getchar()) != EOF)
        putchar(tolower(c));
    } <span class='r'>else</span> <span class='r'>if</span> (strcmp(argv[1], <span class='q'>"-u"</span>) == 0) {
      <span class='r'>while</span> ((c = getchar()) != EOF)
        putchar(toupper(c));
    } <span class='r'>else</span> {
      printf(<span class='q'>"Argument \"%s\" not valid.\n"</span>, argv[1]);
    }
  } <span class='r'>else</span> {
    puts(<span class='q'>"Too many arguments."</span>);
  }
  <span class='r'>return</span> 0;
}
</pre><a class ='btn btn-outline-dark' href=c-character-string-exercise-3.html>Previous</a><a class ='btn btn-outline-dark' style='float:right' href=c-checking-for-c11-c17-support-for-secure-string-processing-functions.html>Next</a><h2>Related</h2><UL><LI><a href='c-character-string-exercise-1.html'>C Character String Exercise 1</a></LI><LI><a href='c-character-string-exercise-2.html'>C Character String Exercise 2</a></LI><LI><a href='c-character-string-exercise-3.html'>C Character String Exercise 3</a></LI><LI><a href='c-checking-for-c11-c17-support-for-secure-string-processing-functions.html'>C Checking for C11/C17 Support for secure string processing functions</a></LI><LI><a href='c-finding-the-length-of-a-string-using-strnlen-s-function.html'>C Finding the Length of a String using strnlen_s() function</a></LI></UL></div>
</div>
<script type='text/javascript'>
$(document).ready(function () {
$('#leftBarButton').on('click', function () {$('#sidebar').toggleClass('active');});
});        
</script>
<footer style='margin-left:40px;margin-top:40px;'>
<p class='pull-right'><a href='http://www.demo2s.com/'>demo2s.com</a>&nbsp;|
&nbsp;Email:<script language='JavaScript' type='text/javascript'>
var part1 = 'yinpeng';var part6 = '263';var part2 = Math.pow(2,6);var part3 = String.fromCharCode(part2);var part4 = 'hotmail.com';var part5 = part1 + String.fromCharCode(part2) + part4;document.write(part1 + part6 + part3 + part4);
</script>&nbsp;|&nbsp;Demo Source and Support. All rights reserved.</p>
</footer>  
</body>

<!-- Mirrored from www.demo2s.com/c/c-character-string-exercise-4.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 27 Dec 2020 08:56:04 GMT -->
</html>

